(function(t){function e(e){for(var a,i,o=e[0],c=e[1],l=e[2],d=0,m=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&m.push(n[i][0]),n[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(m.length)m.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],a=!0,o=1;o<s.length;o++){var c=s[o];0!==n[c]&&(a=!1)}a&&(r.splice(e--,1),t=i(i.s=s[0]))}return t}var a={},n={app:0},r=[];function i(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=a,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},1:function(t,e){},"13b2":function(t,e,s){},"27dc":function(t,e,s){},"28ab":function(t,e,s){"use strict";var a=s("13b2"),n=s.n(a);n.a},"3c8e":function(t,e,s){"use strict";var a=s("c989"),n=s.n(a);n.a},4678:function(t,e,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=r(t);return s(e)}function r(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}n.keys=function(){return Object.keys(a)},n.resolve=r,t.exports=n,n.id="4678"},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("main-nav",{class:{isTaskOpen:t.isTaskOpen},attrs:{user:t.user},on:{logout:t.doLogout}}),s("router-view",{key:t.reload})],1)},r=[],i=(s("96cf"),s("1da1")),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"main-nav container"},[a("div",{staticClass:"logo-conteiner",on:{click:t.moveToHomePage}},[a("img",{staticClass:"logo-img",attrs:{src:s("aecb")}})]),a("ul",[a("li",[a("router-link",{attrs:{to:"/"}},[t._v("Boards")])],1),"guest"===t.user.username?a("li",[a("router-link",{attrs:{to:"/auth"}},[t._v("Login")])],1):t._e(),"guest"!==t.user.username?a("li",{on:{click:t.toggleUserProfile}},[t._v("My profile")]):t._e(),"guest"!==t.user.username?a("li",{on:{click:function(e){return t.$emit("logout")}}},[t._v("Logout")]):t._e()]),t.isUserProfile?a("user-profile",{attrs:{user:t.user},on:{"close-user-profile":t.toggleUserProfile}}):t._e()],1)},c=[],l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"user-profile"},[s("header",[s("button",{staticClass:"close-btn",on:{click:function(e){return t.$emit("close-user-profile")}}},[s("font-awesome-icon",{attrs:{icon:"times"}})],1),s("div",[s("span",{staticClass:"el-icon-user"}),t._v(" "+t._s(t.user.username)+" ")])]),s("main",[s("button",{class:{active:t.isProfile},on:{click:function(e){return t.toggle("isProfile")}}},[t._v("Profile and visibility")]),s("button",{class:{active:t.isActivity},on:{click:function(e){return t.toggle("isActivity")}}},[t._v("Activity")])]),t.isProfile?s("section",{staticClass:"profile"},[s("div",[t.user.imgUrl?s("img",{staticClass:"member-img",attrs:{src:t.user.imgUrl}}):s("avatar",{staticClass:"member",attrs:{username:t.user.username}})],1),s("div",[s("label",{attrs:{for:"add-img"}},[s("div",[t._v(t._s(t.user.imgUrl?"Change image":"Add image"))]),s("input",{staticClass:"img-input",attrs:{id:"add-img",type:"file"},on:{change:t.addImg}})])]),s("div",{staticClass:"user-name"},[s("label",[t._v(" Change your username "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newName,expression:"newName"}],staticClass:"board",attrs:{type:"text",placeholder:"Username"},domProps:{value:t.newName},on:{input:function(e){e.target.composing||(t.newName=e.target.value)}}})]),s("button",{staticClass:"add-btn",on:{click:t.changeName}},[t._v("Change")])])]):t._e(),t.isActivity?s("section",{staticClass:"activity-container"},[t.activitieslog.length?t._e():s("div",{staticClass:"msg"},[t._v(t._s(t.msg))]),s("ul",{staticClass:"activities"},t._l(t.activitieslog,(function(e,a){return s("li",{key:a,staticClass:"activity"},[s("div",[e.user.imgUrl?s("img",{staticClass:"member-img",attrs:{src:e.user.imgUrl}}):s("avatar",{staticClass:"member",attrs:{username:e.user.username}})],1),s("div",[s("span",{staticClass:"username"},[t._v(t._s(e.user.username))]),t._v(" "+t._s(e.txt)+" "),s("div",{staticClass:"due-date"},[t._v(t._s(t._f("fromDate")(e.createdAt)))])])])})),0)]):t._e()])},u=[],d=s("4a89"),m=s.n(d),p={name:"user-profile",props:{user:Object},data:function(){return{activitieslog:null,isProfile:!1,isActivity:!1,newName:this.user.username,msg:""}},methods:{toggle:function(t){this[t]=!this[t],"isProfile"===t?this.isActivity=!1:this.isProfile=!1},updateUser:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"updateUser",user:JSON.parse(JSON.stringify(t.user))});case 2:case"end":return e.stop()}}),e)})))()},addImg:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.$store.dispatch({type:"uploadImg",ev:t});case 2:a=s.sent,e.user.imgUrl=a,e.updateUser();case 5:case"end":return s.stop()}}),s)})))()},changeName:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.user.username=t.newName,e.next=3,t.$store.commit({type:"updateUserName",user:t.user});case 3:return e.next=5,t.$store.dispatch({type:"saveBoards"});case 5:t.updateUser();case 6:case"end":return e.stop()}}),e)})))()},getUserActivitylog:function(){this.$store.commit({type:"getUserActivitylog",userId:this.user._id}),this.activitieslog=this.$store.getters.currActivitylog}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"loadBoards"});case 2:t.getUserActivitylog(),t.$route.params.id?t.msg="You don't have any activity on this board":t.msg="In order to see your activities, please connect to the boards that you are a member of";case 4:case"end":return e.stop()}}),e)})))()},watch:{"$route.params":function(){this.$emit("close-user-profile")}},components:{avatar:m.a}},g=p,h=s("2877"),b=Object(h["a"])(g,l,u,!1,null,null,null),v=b.exports,f={props:{user:Object},data:function(){return{isUserProfile:!1}},methods:{toggleUserProfile:function(){this.isUserProfile=!this.isUserProfile},changeImg:function(t){this.$emit("change-img",t)},moveToHomePage:function(){this.$router.push("/")}},created:function(){console.log(this.user)},components:{userProfile:v}},k=f,y=Object(h["a"])(k,o,c,!1,null,null,null),C=y.exports,w={data:function(){return{user:JSON.parse(JSON.stringify(this.$store.getters.loggedinUser)),isTaskOpen:!1,reload:0}},methods:{doLogout:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"logout"});case 2:t.user=t.$store.getters.loggedinUser,t.$route.params.id?t.$router.push("/"):t.reload+=1;case 4:case"end":return e.stop()}}),e)})))()}},watch:{"$route.params":function(t){t.taskId&&(this.isTaskOpen=!0),t.taskId||(this.isTaskOpen=!1),this.user=JSON.parse(JSON.stringify(this.$store.getters.loggedinUser))}},components:{mainNav:C}},_=w,O=(s("28ab"),Object(h["a"])(_,n,r,!1,null,"4204ccaa",null)),j=O.exports,x=s("9483");Object(x["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var T=s("8c4f"),A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"home-page"},[t._m(0),s("section",{staticClass:"search"},[s("i",{staticClass:"el-icon-search"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchKeyword,expression:"searchKeyword"}],attrs:{type:"text",placeholder:"Search board"},domProps:{value:t.searchKeyword},on:{input:function(e){e.target.composing||(t.searchKeyword=e.target.value)}}})]),"guest"!==t.loggedinUser.username?s("div",[s("h4",[t._v("Personal Boards:")]),t.boards?s("main",[s("div",{staticClass:"board-preview"},[s("button",{on:{click:t.addNewBoard}},[s("font-awesome-icon",{staticClass:"icon",attrs:{icon:"plus"}}),t._v("Create new board ")],1)]),t._l(t.boardByUser,(function(e){return s("div",{key:e._id,staticClass:"board-preview",style:{background:e.style.color||"url("+e.style.url+") no-repeat center center / cover"}},[s("router-link",{attrs:{to:"/board/"+e._id}},[s("button",[t._v(t._s(e.name))])])],1)}))],2):t._e(),s("h4",[t._v("All Boards:")])]):t._e(),t.boards?s("main",["guest"===t.loggedinUser.username?s("div",{staticClass:"board-preview"},[s("button",{on:{click:t.addNewBoard}},[s("font-awesome-icon",{staticClass:"icon",attrs:{icon:"plus"}}),t._v("Create new board ")],1)]):t._e(),t._l(t.boardBySearch,(function(e){return s("div",{key:e._id,staticClass:"board-preview",style:{background:e.style.color||"url("+e.style.url+") no-repeat center center / cover"}},[s("router-link",{attrs:{to:"/board/"+e._id}},[s("button",[t._v(t._s(e.name))])])],1)}))],2):t._e()])},D=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",[a("img",{attrs:{src:s("7631")}})])}],$=(s("4de4"),s("7db0"),s("4160"),s("caad"),s("b0c0"),s("2532"),s("159b"),{name:"home-page",data:function(){return{boards:null,searchKeyword:"",loggedinUser:null}},computed:{boardBySearch:function(){var t=this;return this.searchKeyword?this.boards.filter((function(e){return e.name.toLowerCase().includes(t.searchKeyword.toLowerCase())})):this.boards},boardByUser:function(){var t=this,e=[];return this.boards.forEach((function(s){s.members.find((function(e){return e._id===t.loggedinUser._id}))&&e.push(s)})),this.searchKeyword?e.filter((function(e){return e.name.toLowerCase().includes(t.searchKeyword.toLowerCase())})):e}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loggedinUser=t.$store.getters.loggedinUser,e.next=3,t.$store.dispatch({type:"loadBoards"});case 3:return s=e.sent,t.boards=JSON.parse(JSON.stringify(s)),e.next=7,t.$store.commit({type:"setEmptyBoard"});case 7:case"end":return e.stop()}}),e)})))()},methods:{addNewBoard:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"addNewBoard"});case 2:s=e.sent,t.$router.push("/board/".concat(s));case 4:case"end":return e.stop()}}),e)})))()}}}),L=$,N=Object(h["a"])(L,A,D,!1,null,null,null),S=N.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.board?s("section",{staticClass:"board-details",style:{background:t.boardStyle}},[s("board-nav",{attrs:{boardName:t.board.name,members:t.board.members,dueDate:t.board.dueDate,creator:t.board.creator},on:{"toggle-activitylog":t.toggleActivitylog,"toggle-settings":t.toggleSettings,"update-boardname":t.updateBoardname,"add-member":t.addMember}}),t.isAddMember?s("add-member",{attrs:{users:t.users,members:t.board.members},on:{"add-new-member":t.addNewMember,"remove-member":t.removeMember,"close-add-member":function(e){t.isAddMember=!1}}}):t._e(),s("transition",{attrs:{name:"slide",appear:""}},[t.isOpenBoardSetting?s("board-settings",{class:{"board-settings-open":t.isOpenBoardSetting},attrs:{board:t.board},on:{"toggle-settings":t.toggleSettings,"set-bgc":t.setBgc,"delete-board":t.deleteBoard,"change-date":t.changeDate,"update-boardname":t.updateBoardname}}):t._e()],1),s("transition",{attrs:{name:"slide",appear:""}},[t.isOpenActivitylog?s("activitylog",{staticClass:"main-activitylog",attrs:{isMain:!0,activitieslog:t.board.activitieslog},on:{"close-activitylog":t.toggleActivitylog}}):t._e()],1),s("tasklist-list",{attrs:{taskLists:t.board.taskLists,boardId:t.board._id},on:{"update-board":t.updateLocalBoard,"update-lists":t.updateLists,"upadte-activitylog":t.upadteActivitylog}}),s("router-view")],1):t._e()},E=[],I=(s("c740"),s("a434"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"board-nav container"},[s("ul",[t.titleClicked?t._e():s("li",{staticClass:"board-name",on:{click:function(e){e.stopPropagation(),t.titleClicked=!t.titleClicked}}},[t._v(t._s(t.boardName))]),t.titleClicked?s("li",{staticClass:"board-name"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newBoardName,expression:"newBoardName"}],attrs:{type:"text"},domProps:{value:t.newBoardName},on:{blur:t.changeName,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeName(e)},input:function(e){e.target.composing||(t.newBoardName=e.target.value)}}})]):t._e(),t.members&&!t.isMobile?s("li",{staticClass:"members"},[t._l(t.members,(function(t){return s("div",{key:t._id},[t.imgUrl?s("img",{staticClass:"member-img",attrs:{src:t.imgUrl,title:t.username}}):s("avatar",{staticClass:"member",attrs:{username:t.username,title:t.username}})],1)})),s("span",{staticClass:"add-member-btn",attrs:{title:"Add member"},on:{click:function(e){return t.$emit("add-member")}}},[s("font-awesome-icon",{staticClass:"new-add-btn",attrs:{icon:"plus"}})],1)],2):t._e(),t.dueDate&&!t.isMobile?s("li",[t._v(t._s(t._f("dueDate")(t.dueDate)))]):t._e()]),s("div",[s("button",{on:{click:function(e){return t.$emit("toggle-settings")}}},[t._v("Menu")]),s("button",{on:{click:function(e){return t.$emit("toggle-activitylog")}}},[t._v("Activity Log")])])])}),B=[],P=(s("a9e3"),{name:"board-nav",props:{boardName:String,members:Array,dueDate:Number,creator:Object},data:function(){return{titleClicked:!1,newBoardName:"",isMobile:!1}},methods:{changeName:function(){this.titleClicked=!1,this.$emit("update-boardname",JSON.parse(JSON.stringify(this.newBoardName)))},isMobileDevice:function(){return window.innerWidth<550}},created:function(){this.newBoardName=this.boardName,this.isMobile=this.isMobileDevice()},components:{avatar:m.a}}),U=P,M=Object(h["a"])(U,I,B,!1,null,null,null),J=M.exports,z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"tasklist-list container"},[s("container",{attrs:{orientation:"horizontal","get-child-payload":t.getChildPayload,"drop-placeholder":t.dropPlaceholderOptions},on:{drop:t.onDrop}},[t._l(t.lists,(function(e){return s("draggable",{key:e.id,on:{"update-board":t.updateBoard,"update-list-drag":t.updateList}},[s("tasklist-preview",{attrs:{taskList:e,boardId:t.boardId},on:{"upadte-activitylog":t.upadteActivitylog,"update-list":t.updateList}})],1)})),s("div",{staticClass:"tasklist-preview hover-class",class:{newListBgc:t.isAddListOpen}},[t.isAddListOpen?s("div",[s("form",{on:{submit:function(e){return e.preventDefault(),t.addList(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newList.name,expression:"newList.name"}],ref:"title",staticClass:"board",attrs:{type:"text",placeholder:"Add list title"},domProps:{value:t.newList.name},on:{input:function(e){e.target.composing||t.$set(t.newList,"name",e.target.value)}}}),s("br"),s("div",{staticClass:"add-control-btns"},[s("button",{staticClass:"add-btn"},[t._v("Add List")]),s("button",{staticClass:"close-btn",on:{click:function(e){e.stopPropagation(),t.isAddListOpen=!t.isAddListOpen}}},[s("font-awesome-icon",{attrs:{icon:"times"}})],1)])])]):s("button",{staticClass:"new-add-btn",on:{click:t.toggleAddList}},[s("font-awesome-icon",{staticClass:"new-add-btn",attrs:{icon:"plus"}}),t._v("Add new list ")],1)])],2)],1)},F=[],K=(s("99af"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"tasklist-preview",style:{backgroundColor:t.taskList.backgroundColor}},[s("header",[s("h4",[t._v(t._s(t.taskList.name))]),s("button",{staticClass:"settings-btn",on:{click:function(e){t.isSettingsOpen=!t.isSettingsOpen}}},[s("i",{staticClass:"el-icon-more icon"})]),t.isSettingsOpen?s("list-settings",{attrs:{listName:t.taskList.name},on:{"close-settings":function(e){t.isSettingsOpen=!t.isSettingsOpen},"update-list-name":t.updateListName,"open-add-task":function(e){(t.isAddTaskOpen=!0)&&(t.isSettingsOpen=!1)},"delete-list":t.deleteList,"set-color":t.setColor,"set-sort":t.setSort}}):t._e()],1),s("main",{class:{"mobile-mode":t.isMobile,shorter:t.isAddTaskOpen}},[s("task-list",{staticClass:"task-list",attrs:{allTasks:t.list.tasks,boardId:t.boardId},on:{"update-tasks":t.updateTasks,"upadte-activitylog":t.upadteActivitylog}})],1),s("footer",{class:{"hover-class":!t.isAddTaskOpen}},[t.isAddTaskOpen?s("div",[s("form",{on:{submit:function(e){return e.preventDefault(),t.addTask(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newTask.name,expression:"newTask.name"}],ref:"title",staticClass:"board",attrs:{type:"text",placeholder:"Enter new task"},domProps:{value:t.newTask.name},on:{input:function(e){e.target.composing||t.$set(t.newTask,"name",e.target.value)}}}),s("br"),s("div",{staticClass:"add-control-btns"},[s("button",{staticClass:"add-btn"},[t._v("Add Task")]),s("button",{staticClass:"close-btn",on:{click:function(e){e.stopPropagation(),t.isAddTaskOpen=!t.isAddTaskOpen}}},[s("font-awesome-icon",{attrs:{icon:"times"}})],1)])])]):s("button",{staticClass:"new-add-btn",on:{click:t.toggleAddTask}},[s("font-awesome-icon",{staticClass:"new-add-btn",attrs:{icon:"plus"}}),t._v("Add new task ")],1)])])}),Q=[],H=(s("c975"),s("2909")),q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("container",{attrs:{"get-child-payload":t.getChildPayload,"group-name":"column","drag-class":"card-ghost","drop-class":"card-ghost-drop","drop-placeholder":t.dropPlaceholderOptions},on:{drop:t.onDrop}},t._l(t.tasks,(function(e){return s("draggable",{key:e.index},[s("task-preview",{attrs:{task:e,boardId:t.boardId}})],1)})),1)],1)},Y=[],G=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"task-preview",style:{background:t.task.backgroundColor}},[s("router-link",{staticClass:"task-container",attrs:{to:"/board/"+t.boardId+"/task-details/"+t.task.id}},[s("div",[s("div",{staticClass:"cover-img-container"},[t.task.cover?s("img",{staticClass:"cover-img",attrs:{src:t.task.cover}}):t._e()]),t.task.labels.length>0?s("div",{staticClass:"labels"},t._l(t.task.labels,(function(e){return s("span",{key:e.id,staticClass:"label",class:{"label-text":t.isLabelText},style:{backgroundColor:e.color},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleLabel(e)}}},[s("transition",{attrs:{name:"fade"}},[e.title&&t.isLabelText?s("span",{staticClass:"label-title"},[t._v(t._s(e.title))]):t._e()])],1)})),0):t._e(),s("div",{staticClass:"task-name"},[t._v(t._s(t.task.name))]),t.task.description?s("span",{staticClass:"el-icon-s-unfold icon description"}):t._e(),t.task.dueDate?s("div",{staticClass:"due-date",class:{"over-due":t.task.dueDate<=Date.now()}},[s("span",{staticClass:"due-date-icon el-icon-time"}),t.task.dueDate?s("span",[t._v(t._s(t._f("dueDate")(t.task.dueDate)))]):t._e()]):t._e(),t.task.checklists.length>0?s("div",{staticClass:"checklist",class:{"done-todos":t.isTodosDone}},[s("span",{staticClass:"checklist-icon el-icon-document-checked"}),s("span",[t._v(t._s(t.doneTodosAmount))]),s("span",[t._v("/")]),s("span",[t._v(t._s(t.todosAmount))])]):t._e(),t.task.status.isDone?s("span",{staticClass:"el-icon-check icon isDone"}):t._e(),t.task.members?s("div",{staticClass:"members"},t._l(t.task.members,(function(t){return s("div",{key:t._id},[t.imgUrl?s("img",{staticClass:"member-img",attrs:{src:t.imgUrl}}):s("avatar",{staticClass:"member",attrs:{username:t.username}})],1)})),0):t._e()])])],1)},Z=[],W={name:"task-list",props:{task:Object,boardId:String},data:function(){return{isLabelText:!1}},computed:{doneTodosAmount:function(){var t=0;return this.task.checklists.forEach((function(e){t+=e.todos.filter((function(t){return t.isDone})).length})),t},todosAmount:function(){var t=0;return this.task.checklists.forEach((function(e){t+=e.todos.length})),t},isTodosDone:function(){return this.doneTodosAmount===this.todosAmount}},methods:{toggleLabel:function(){this.isLabelText=!this.isLabelText}},components:{avatar:m.a}},V=W,X=Object(h["a"])(V,G,Z,!1,null,null,null),tt=X.exports,et=(s("13d5"),s("b64b"),s("c878")),st=(s("d3b7"),s("25f0"),s("53ca")),at=function(t){return"[object Array]"===Object.prototype.toString.call(t)};function nt(t,e){var s=t.$props.tag;if(s){if("string"===typeof s){var a={value:s};return e&&(a.props={class:e}),a}if("object"===Object(st["a"])(s)){var n={value:s.value||"div",props:s.props||{}};return e&&(n.props.class?at(n.props.class)?n.props.class.push(e):n.props.class=[e,n.props.class]:n.props.class=e),n}}return{value:"div"}}function rt(t){return!t||("string"===typeof t||"object"===Object(st["a"])(t)&&("string"===typeof t.value||"function"===typeof t.value||"object"===Object(st["a"])(t.value)))}var it=function(t,e){var s=e.removedIndex,a=e.addedIndex,n=e.payload;if(null===s&&null===a)return t;var r=Object(H["a"])(t),i=n;return null!==s&&(i=r.splice(s,1)[0]),null!==a&&r.splice(a,0,i),r};et["smoothDnD"].dropHandler=et["dropHandlers"].reactDropHandler().handler,et["smoothDnD"].wrapChild=!1;var ot={"drag-start":"onDragStart","drag-end":"onDragEnd",drop:"onDrop","drag-enter":"onDragEnter","drag-leave":"onDragLeave","drop-ready":"onDropReady"};function ct(t,e){var s=Object.keys(t).reduce((function(s,a){var n=a,r=t[n];return void 0!==r&&("function"===typeof r?ot[n]?s[ot[n]]=function(t){e.$emit(n,t)}:s[n]=function(){return r.apply(void 0,arguments)}:s[n]=r),s}),{});return s}var lt,ut,dt,mt,pt,gt,ht=function(t){var e=Object.assign({},t.$props,t.$listeners);return ct(e,t)},bt={name:"container",mounted:function(){this.containerElement=this.$refs.container||this.$el,this.container=Object(et["smoothDnD"])(this.containerElement,ht(this))},updated:function(){if(this.$refs.container!==this.containerElement&&this.$el!==this.containerElement)return this.container&&this.container.dispose(),this.containerElement=this.$refs.container||this.$el,void(this.container=Object(et["smoothDnD"])(this.containerElement,ht(this)));this.container.setOptions(ht(this))},destroyed:function(){this.container&&this.container.dispose()},props:{behaviour:String,groupName:String,orientation:String,dragHandleSelector:String,nonDragAreaSelector:String,dragBeginDelay:Number,animationDuration:Number,autoScrollEnabled:{type:Boolean,default:!0},lockAxis:String,dragClass:String,dropClass:String,removeOnDropOut:{type:Boolean,default:!1},"drag-start":Function,"drag-end":Function,drop:Function,getChildPayload:Function,shouldAnimateDrop:Function,shouldAcceptDrop:Function,"drag-enter":Function,"drag-leave":Function,tag:{validator:rt,default:"div"},getGhostParent:Function,"drop-ready":Function,dropPlaceholder:[Object,Boolean]},render:function(t){var e=nt(this);return t(e.value,Object.assign({},{ref:"container"},e.props),this.$slots.default)}},vt=bt,ft=Object(h["a"])(vt,lt,ut,!1,null,null,null),kt=ft.exports,yt=function(t,e){var s=nt(e,et["constants"].wrapperClass);return t(s.value,Object.assign({},s.props),e.$slots.default)},Ct={name:"draggable",props:{tag:{validator:rt,default:"div"}},render:function(t){return yt(t,this)}},wt=Ct,_t=Object(h["a"])(wt,dt,mt,!1,null,null,null),Ot=_t.exports,jt={name:"task-list",props:{allTasks:Array,boardId:String},data:function(){return{tasks:this.allTasks,dropPlaceholderOptions:{className:"task-preview-placeholder",animationDuration:"150",showOnTop:!0}}},methods:{onDrop:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(e.tasks=it(e.tasks,t),!(t.removedIndex>=0&&null!==t.removedIndex||t.addedIndex>=0&&null!==t.addedIndex)){s.next=5;break}return s.next=4,e.$emit("update-tasks",e.tasks);case 4:t.removedIndex>=0&&null!==t.removedIndex&&e.$emit("upadte-activitylog",t.payload.id);case 5:case"end":return s.stop()}}),s)})))()},getChildPayload:function(t){return this.tasks[t]}},watch:{allTasks:function(t){this.tasks=t}},components:{taskPreview:tt,container:kt,draggable:Ot}},xt=jt,Tt=Object(h["a"])(xt,q,Y,!1,null,null,null),At=Tt.exports,Dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list-settings"},[s("header",[s("p",[t._v("List Actions")]),s("button",{staticClass:"settings-btn",on:{click:t.closeSettings}},[s("font-awesome-icon",{attrs:{icon:"times"}})],1)]),s("main",[s("button",{on:{click:function(e){t.isNameEditorOpen=!t.isNameEditorOpen}}},[t._v("Change list name")]),t.isNameEditorOpen?s("div",{staticClass:"name-editor"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text"},domProps:{value:t.name},on:{change:t.updateListName,input:function(e){e.target.composing||(t.name=e.target.value)}}})]):t._e(),s("button",{on:{click:function(e){t.isColorPickerOpen=!t.isColorPickerOpen}}},[t._v("Change list color")]),t.isColorPickerOpen?s("color-picker-small",{on:{"set-color":t.setColor}}):t._e(),s("button",{on:{click:t.addTask}},[t._v("Add task to this list")]),s("button",{on:{click:function(e){t.isSortByOpen=!t.isSortByOpen}}},[t._v("Sort list by")]),t.isSortByOpen?s("div",{staticClass:"sort-by"},[s("div",{on:{click:function(e){return t.sortBy("new")}}},[t._v("Newest tasks first")]),s("div",{on:{click:function(e){return t.sortBy("old")}}},[t._v("Oldest tasks first")]),s("div",{on:{click:function(e){return t.sortBy("due-date")}}},[t._v("Due date")]),s("div",{on:{click:function(e){return t.sortBy("name")}}},[t._v("Task name")])]):t._e(),s("button",{on:{click:t.deleteList}},[t._v("Delete list")])],1)])},$t=[],Lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"color-picker-small"},t._l(t.colors,(function(e){return s("div",{key:e,staticClass:"color",class:{active:e===t.currColor},style:{backgroundColor:e},on:{click:function(s){return t.setColor(e)}}})})),0)},Nt=[],St={data:function(){return{colors:["rgb(174, 212, 255)","rgb(221, 170, 255)","rgb(255, 198, 198)","rgb(254, 255, 174)","rgb(183, 255, 174)","#ebecf0"],currColor:""}},methods:{setColor:function(t){this.currColor=t,this.$emit("set-color",this.currColor)}}},Rt=St,Et=Object(h["a"])(Rt,Lt,Nt,!1,null,null,null),It=Et.exports,Bt={name:"list-settings",props:{listName:String},data:function(){return{name:this.listName,isNameEditorOpen:!1,isColorPickerOpen:!1,isSortByOpen:!1}},methods:{closeSettings:function(){this.$emit("close-settings")},updateListName:function(){this.$emit("update-list-name",this.name)},addTask:function(){this.$emit("open-add-task")},deleteList:function(){this.$emit("delete-list")},setColor:function(t){this.$emit("set-color",t)},sortBy:function(t){this.$emit("set-sort",t)}},components:{colorPickerSmall:It}},Pt=Bt,Ut=Object(h["a"])(Pt,Dt,$t,!1,null,null,null),Mt=Ut.exports,Jt={name:"tasklist-preview",props:{taskList:Object,boardId:String},data:function(){return{isMobile:!1,isSettingsOpen:!1,isAddTaskOpen:!1,newTask:null,list:this.taskList}},methods:{deleteList:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.createActivitylog("removed list ".concat(t.list.name)),t.$store.commit({type:"updateActivitieslog",activitylog:s}),e.next=4,t.$store.dispatch({type:"deleteList",listId:t.list.id});case 4:a=e.sent,t.isSettingsOpen=!t.isSettingsOpen,t.$emit("update-board",a);case 7:case"end":return e.stop()}}),e)})))()},toggleAddTask:function(){var t=this;this.isAddTaskOpen=!this.isAddTaskOpen,setTimeout((function(){t.$refs.title.focus()}),50)},addTask:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.newTask.name){e.next=2;break}return e.abrupt("return");case 2:return s=t.createActivitylog("added task ".concat(t.newTask.name," to ").concat(t.list.name)),t.$store.commit({type:"updateActivitieslog",activitylog:s}),a={newTask:t.newTask,taskListId:t.list.id},e.next=7,t.$store.dispatch({type:"addTask",taskData:a});case 7:n=e.sent,t.list.tasks.push(t.newTask),t.$emit("update-board",n),t.getEmptyTask(),t.isAddTaskOpen=!t.isAddTaskOpen;case 12:case"end":return e.stop()}}),e)})))()},getEmptyTask:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$store.commit({type:"setEmptyTask"}),t.newTask=JSON.parse(JSON.stringify(t.$store.getters.currTask));case 2:case"end":return e.stop()}}),e)})))()},updateTasks:function(t){this.list.tasks=t,this.$emit("update-list-drag",this.list)},updateListName:function(t){var e=this.createActivitylog("updated list name from ".concat(this.list.name," to ").concat(t));this.$store.commit({type:"updateActivitieslog",activitylog:e}),this.list.name=t,this.$emit("update-list",this.list)},setColor:function(t){var e=this.createActivitylog("changed the background of ".concat(this.list.name));this.$store.commit({type:"updateActivitieslog",activitylog:e}),this.list.backgroundColor=t,this.$emit("update-list",this.list)},setSort:function(t){if(this.list.sortBy=t,"name"===t)this.list.tasks.sort((function(t,e){return t.name.toLowerCase()>e.name.toLowerCase()?1:t.name.toLowerCase()<e.name.toLowerCase()?-1:0}));else if("new"===t)this.list.tasks.sort((function(t,e){return e.createdAt-t.createdAt}));else if("old"===t)this.list.tasks.sort((function(t,e){return t.createdAt-e.createdAt}));else if("due-date"===t){var e=this.list.tasks.filter((function(t){return!t.dueDate})),s=this.list.tasks.filter((function(t){return t.dueDate}));s.sort((function(t,e){return t.dueDate-e.dueDate}));for(var a=[].concat(Object(H["a"])(s),Object(H["a"])(e)),n=0;n<a.length;n++)this.list.tasks.splice(n,1,a[n])}this.$emit("update-list",this.list)},upadteActivitylog:function(t){this.$emit("upadte-activitylog",t,this.list.name)},createActivitylog:function(t){return{txt:t,createdAt:Date.now()}},isMobileDevice:function(){return"undefined"!==typeof window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")}},watch:{taskList:function(t){this.list=t}},created:function(){this.getEmptyTask(),this.isMobile=this.isMobileDevice()},components:{taskList:At,listSettings:Mt}},zt=Jt,Ft=Object(h["a"])(zt,K,Q,!1,null,null,null),Kt=Ft.exports,Qt={name:"tasklist-list",props:{taskLists:Array,boardId:String},data:function(){return{lists:this.taskLists,isAddListOpen:!1,newList:null,dropPlaceholderOptions:{className:"tasklist-preview-placeholder",animationDuration:"150",showOnTop:!0}}},methods:{updateBoard:function(t){this.lists=t.taskLists,this.$emit("update-board",t)},onDrop:function(t){this.lists=it(this.lists,t),this.updateList()},toggleAddList:function(){var t=this;this.isAddListOpen=!this.isAddListOpen,setTimeout((function(){t.$refs.title.focus()}),50)},addList:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.newList.name){e.next=2;break}return e.abrupt("return");case 2:return s=t.createActivitylog("added list ".concat(t.newList.name," to this board")),t.$store.commit({type:"updateActivitieslog",activitylog:s}),e.next=6,t.$store.dispatch({type:"addTasksList",listData:t.newList});case 6:a=e.sent,t.lists=a.taskLists,t.getEmptyList(),t.isAddListOpen=!t.isAddListOpen,t.updateBoard(a);case 11:case"end":return e.stop()}}),e)})))()},getEmptyList:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.commit({type:"setEmptyTasksList"});case 2:t.newList=JSON.parse(JSON.stringify(t.$store.getters.currList));case 3:case"end":return e.stop()}}),e)})))()},updateList:function(){this.$emit("update-lists",this.lists)},getChildPayload:function(t){return this.lists[t]},upadteActivitylog:function(t,e){var s=this;this.lists.forEach((function(a){var n=a.tasks.find((function(e){return e.id===t}));if(n){var r=s.createActivitylog("move task ".concat(n.name," from list ").concat(e," to ").concat(a.name),t);s.$emit("upadte-activitylog",r)}}))},createActivitylog:function(t,e){return{txt:t,createdAt:Date.now(),taskId:e}}},created:function(){this.getEmptyList()},watch:{taskLists:function(t){this.isDrop=!0,this.lists=t}},components:{tasklistPreview:Kt,draggable:Ot,container:kt}},Ht=Qt,qt=Object(h["a"])(Ht,z,F,!1,null,null,null),Yt=qt.exports,Gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("transition",{attrs:{name:"fade"}},[t.isLoaded?s("div",[t.isMain?s("header",[s("h2",{staticClass:"activity-title"},[s("font-awesome-icon",{staticClass:"activities-icon",attrs:{icon:"tasks"}}),s("span",[t._v("Activity")])],1),s("button",{staticClass:"close-btn",on:{click:t.closeActivitylog}},[s("font-awesome-icon",{attrs:{icon:"times"}})],1)]):t._e(),s("ul",{staticClass:"activities"},t._l(t.activitieslog,(function(e,a){return s("li",{key:a,staticClass:"activity"},[s("div",[e.user.imgUrl?s("img",{staticClass:"member-img",attrs:{src:e.user.imgUrl}}):s("avatar",{staticClass:"avatar",attrs:{username:e.user.username}})],1),s("div",[s("span",{staticClass:"username"},[t._v(t._s(e.user.username))]),t._v(" "+t._s(e.txt)+" "),s("div",{staticClass:"due-date"},[t._v(t._s(t._f("fromDate")(e.createdAt)))])])])})),0)]):t._e()])],1)},Zt=[],Wt={name:"acivitylog",props:{activitieslog:Array,isMain:Boolean},data:function(){return{isLoaded:!1}},methods:{closeActivitylog:function(){var t=this;this.isLoaded=!1,setTimeout((function(){t.$emit("close-activitylog")}),100)}},created:function(){var t=this;setTimeout((function(){t.isLoaded=!0}),100)},components:{avatar:m.a}},Vt=Wt,Xt=Object(h["a"])(Vt,Gt,Zt,!1,null,null,null),te=Xt.exports,ee=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"board-settings"},[s("transition",{attrs:{name:"fade"}},[t.isLoaded?s("div",[s("header",[s("div",[s("font-awesome-icon",{attrs:{icon:["fab","trello"]}}),s("span",[t._v("Board Actions")])],1),s("button",{staticClass:"close-btn",on:{click:t.closeSettings}},[s("font-awesome-icon",{attrs:{icon:"times"}})],1)]),t.isMobile?s("section",{staticClass:"mobile-mode"},[t.board.members?s("div",{staticClass:"members"},[t._l(t.board.members,(function(t){return s("div",{key:t._id},[t.imgUrl?s("img",{staticClass:"member-img",attrs:{src:t.imgUrl}}):s("avatar",{staticClass:"member",attrs:{username:t.username}})],1)})),s("span",{staticClass:"add-member-btn",on:{click:t.addMember}},[s("font-awesome-icon",{staticClass:"new-add-btn",attrs:{icon:"plus"}})],1)],2):t._e(),t.board.dueDate?s("div",[t._v(t._s(t._f("dueDate")(t.board.dueDate)))]):t._e()]):t._e(),t.isAddMember?s("add-member",{attrs:{users:t.users,members:t.board.members},on:{"add-new-member":t.addNewMember,"remove-member":t.removeMember,"close-add-member":function(e){t.isAddMember=!1}}}):t._e(),s("main",[s("button",{class:{active:t.isChartOpen},on:{click:function(e){return t.toggle("isChartOpen")}}},[t._v("Board dashboard")]),s("button",{class:{active:t.isNameEditorOpen},on:{click:function(e){return t.toggle("isNameEditorOpen")}}},[t._v("Change board name")]),s("button",{class:{active:t.isColorPickerOpen},on:{click:function(e){return t.toggle("isColorPickerOpen")}}},[t._v("Change background")]),s("button",{class:{active:t.isDueDateOpen},on:{click:function(e){return t.toggle("isDueDateOpen")}}},[t._v("Change due date")]),s("button",{class:{active:t.isDeleteQuestOpen},on:{click:function(e){return t.toggle("isDeleteQuestOpen")}}},[t._v("Delete board")])]),s("section",[t.isChartOpen?s("div",{staticClass:"dashboard"},[s("bar-chart",{attrs:{chartdata:t.barChartdata,options:t.options}}),s("button",{staticClass:"add-btn"},[s("router-link",{attrs:{to:"dashboard/"+t.board._id}},[t._v("To the full dashboard")])],1)],1):t._e(),t.isColorPickerOpen?s("color-picker-large",{on:{"set-bgc":t.setBgc}}):t._e(),t.isNameEditorOpen?s("div",{staticClass:"name-editor"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newName,expression:"newName"}],staticClass:"board",attrs:{type:"text",placeholder:t.board.name},domProps:{value:t.newName},on:{input:function(e){e.target.composing||(t.newName=e.target.value)}}}),s("button",{staticClass:"add-btn",on:{click:t.changeName}},[t._v("Save")])]):t._e(),t.isDueDateOpen?s("due-date-picker",{staticClass:"due-date-picker-board",attrs:{dueDate:t.board.dueDate?t.board.dueDate:Date.now()},on:{"close-due-date":function(e){t.isDeleteQuestOpen=!t.isDeleteQuestOpen},"date-change":t.changeDate}}):t._e(),t.isDeleteQuestOpen?s("div",[s("div",[t._v("Are you sure?")]),s("button",{staticClass:"add-btn",on:{click:function(e){t.isDeleteQuestOpen=!t.isDeleteQuestOpen}}},[t._v("No")]),s("button",{staticClass:"add-btn",on:{click:t.deleteBoard}},[t._v("Yes, delete this board")])]):t._e()],1)],1):t._e()])],1)},se=[],ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"color-picker-large"},[t.isOptionOpen?t._e():s("div",{staticClass:"options"},[s("div",{staticClass:"option",on:{click:t.openImgOption}},[s("div",{staticClass:"img photos-img"}),s("div",{staticClass:"title"},[t._v("Photos")])]),s("div",{staticClass:"option",on:{click:t.openColorOption}},[s("div",{staticClass:"img colors-img"}),s("div",{staticClass:"title"},[t._v("Colors")])])]),t.isOptionOpen?s("button",{staticClass:"add-btn",on:{click:t.backToOptions}},[t._v("Back")]):t._e(),t.isOptionColorOpen?s("div",{staticClass:"options-bgc"},t._l(t.colors,(function(e){return s("div",{key:e,staticClass:"bgc",style:{backgroundColor:e},on:{click:function(s){return t.setBgc("color",e)}}})})),0):t._e(),t.isOptionImgOpen?s("div",{staticClass:"options-bgc"},t._l(t.imgs,(function(e){return s("div",{key:e,staticClass:"bgc",style:{"background-image":"url("+e+")"},on:{click:function(s){return t.setBgc("url",e)}}})})),0):t._e()])},ne=[],re={data:function(){return{colors:["rgb(0, 121, 191)","rgb(0, 174, 204)","rgb(174, 212, 255)","rgb(137, 96, 158)","rgb(221, 170, 255)","rgb(255, 198, 198)","rgb(205, 90, 145)","rgb(176, 70, 50)","rgb(210, 144, 52)","rgb(254, 255, 174)","rgb(81, 152, 57)","rgb(75, 191, 107)","rgb(183, 255, 174)","rgb(131, 140, 145)","#ebecf0","#111"],imgs:["https://res.cloudinary.com/dgmwynlbw/image/upload/v1585210331/bgc/1.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585210935/bgc/2.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585210885/bgc/3.webp","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585210885/bgc/4.webp","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585210885/bgc/5.webp","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585211744/bgc/6.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585211748/bgc/7.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585211764/bgc/9.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585211772/bgc/10.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585211796/bgc/11.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585211804/bgc/12.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585211804/bgc/13.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585211814/bgc/14.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585211819/bgc/15.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585211840/bgc/16.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585211860/bgc/17.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585211868/bgc/18.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585211874/bgc/20.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585211877/bgc/21.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585211889/bgc/22.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585211894/bgc/23.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585211903/bgc/25.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585211904/bgc/26.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585211914/bgc/27.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585211929/bgc/28.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585211933/bgc/29.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585211954/bgc/30.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585211970/bgc/31.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585211972/bgc/32.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585211979/bgc/33.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585212001/bgc/34.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585212004/bgc/35.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585215368/bgc/36.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585215369/bgc/37.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585215374/bgc/38.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585215375/bgc/39.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585215376/bgc/40.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585215381/bgc/41.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585215383/bgc/42.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585215387/bgc/43.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585215390/bgc/44.jpg","https://res.cloudinary.com/dgmwynlbw/image/upload/v1585215393/bgc/45.jpg"],isOptionOpen:!1,isOptionColorOpen:!1,isOptionImgOpen:!1,currBgc:null}},methods:{openColorOption:function(){this.isOptionOpen=!0,this.isOptionColorOpen=!0,this.isOptionImgOpen=!1},openImgOption:function(){this.isOptionOpen=!0,this.isOptionColorOpen=!1,this.isOptionImgOpen=!0},backToOptions:function(){this.isOptionOpen=!1,this.isOptionColorOpen=!1,this.isOptionImgOpen=!1},setBgc:function(t,e){this.currBgc={color:"",url:""},this.currBgc[t]=e,this.$emit("set-bgc",this.currBgc)}}},ie=re,oe=Object(h["a"])(ie,ae,ne,!1,null,null,null),ce=oe.exports,le=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("header",[s("h2",[t._v("Change Due Date")]),s("button",{staticClass:"close-btn",on:{click:function(e){return t.$emit("close-due-date")}}},[s("font-awesome-icon",{attrs:{icon:"times"}})],1)]),s("v-date-picker",{staticClass:"calender",attrs:{mode:"single","is-inline":""},model:{value:t.selectedDate,callback:function(e){t.selectedDate=e},expression:"selectedDate"}}),s("div",{staticClass:"btn-container"},[s("button",{staticClass:"add-btn",on:{click:t.saveDate}},[t._v("Save")])])],1)},ue=[],de={name:"due-date-picker",props:{dueDate:Number},data:function(){return{selectedDate:null}},methods:{saveDate:function(){var t=new Date(this.selectedDate).getTime();this.$emit("date-change",JSON.parse(JSON.stringify(t)))}},created:function(){this.selectedDate=new Date(this.dueDate)}},me=de,pe=Object(h["a"])(me,le,ue,!1,null,null,null),ge=pe.exports,he=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"add-member"},[s("header",[s("button",{staticClass:"close-btn",on:{click:function(e){return t.$emit("close-add-member")}}},[s("font-awesome-icon",{attrs:{icon:"times"}})],1),s("h2",[t._v("Invite To Board")])]),s("main",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"task",attrs:{type:"text",placeholder:"Email address or name"},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value)},t.searchUser]}}),s("div",{staticClass:"users"},t._l(t.searchedUsers,(function(e){return s("div",{key:e._id,on:{click:function(s){return t.updateUser(e)}}},[s("div",{staticClass:"user"},[s("div",[e.imgUrl?s("img",{staticClass:"member-img",attrs:{src:e.imgUrl}}):s("avatar",{staticClass:"member",attrs:{username:e.username}})],1),s("div",[s("span",{staticClass:"username"},[t._v(t._s(e.username))]),t.isUserJoined(e._id)?s("span",{staticClass:"joined"},[t._v("(Joined)")]):t._e()])])])})),0)])])},be=[],ve=(s("ac1f"),s("841c"),{name:"add-member",props:{users:Array,members:Array},data:function(){return{search:"",searchedUsers:this.users}},methods:{isUserJoined:function(t){var e=this.members.find((function(e){return e._id===t}));return!!e},updateUser:function(t){var e=this.isUserJoined(t._id);e?this.$emit("remove-member",t):this.$emit("add-new-member",t)},searchUser:function(){var t=this;this.searchedUsers=this.users.filter((function(e){var s=e.username.toLowerCase(),a=t.search.toLowerCase();return s.includes(a)}))}},watch:{users:function(t){this.searchedUsers=t}},components:{avatar:m.a}}),fe=ve,ke=Object(h["a"])(fe,he,be,!1,null,null,null),ye=ke.exports,Ce=s("1fca"),we={extends:Ce["a"],props:{chartdata:{type:Object,default:null},options:{type:Object,default:null}},mounted:function(){this.renderChart(this.chartdata,this.options)}},_e=we,Oe=Object(h["a"])(_e,pt,gt,!1,null,null,null),je=Oe.exports,xe={makeId:Te,uploadImg:Ae,getRandomColor:De};function Te(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<t;a++)e+=s.charAt(Math.floor(Math.random()*s.length));return e}function Ae(t){var e="dcwrnwtiu",s="https://api.cloudinary.com/v1_1/".concat(e,"/image/upload"),a=new FormData;return a.append("file",t.target.files[0]),a.append("upload_preset","fy4cqrtq"),fetch(s,{method:"POST",body:a}).then((function(t){return t.json()})).then((function(t){return t})).catch()}function De(){for(var t="0123456789ABCDEF",e="#",s=0;s<6;s++)e+=t[Math.floor(16*Math.random())];return e}var $e,Le={props:{board:Object},data:function(){return{isLoaded:!1,isChartOpen:!0,isColorPickerOpen:!1,isNameEditorOpen:!1,isDeleteQuestOpen:!1,isDueDateOpen:!1,isMobile:!1,isAddMember:!1,users:[],newName:"",barChartdata:{labels:[],datasets:[{label:"Completed Tasks ",backgroundColor:[],data:[]},{label:"Incompleted Tasks ",data:[]}]},options:{scales:{yAxes:[{stacked:!0,ticks:{beginAtZero:!0,min:0}}],xAxes:[{stacked:!0,ticks:{beginAtZero:!0,categoryPercentage:.5,barPercentage:1}}]},responsive:!0,maintainAspectRatio:!1}}},methods:{isMobileDevice:function(){return window.innerWidth<550},toggle:function(t){this.isChartOpen=!1,this.isColorPickerOpen=!1,this.isNameEditorOpen=!1,this.isDeleteQuestOpen=!1,this.isDueDateOpen=!1,this[t]=!this[t]},closeSettings:function(){var t=this;this.isLoaded=!1,setTimeout((function(){t.$emit("toggle-settings")}),100)},setBgc:function(t){this.$emit("set-bgc",t)},deleteBoard:function(){this.$emit("delete-board")},changeDate:function(t){this.$emit("change-date",t)},changeName:function(){this.$emit("update-boardname",this.newName)},addMember:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"getUsers"});case 2:s=e.sent,t.isAddMember=!0,t.users=s;case 5:case"end":return e.stop()}}),e)})))()},addNewMember:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a={_id:t._id,username:t.username,imgUrl:t.imgUrl},e.board.members.push(a),s.next=4,e.$store.dispatch({type:"updateBoard",board:e.board});case 4:case"end":return s.stop()}}),s)})))()},removeMember:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=e.board.members.findIndex((function(e){return e._id===t._id})),e.board.members.splice(a,1),s.next=4,e.$store.dispatch({type:"updateBoard",board:e.board});case 4:case"end":return s.stop()}}),s)})))()}},created:function(){var t=this;this.isMobile=this.isMobileDevice(),setTimeout((function(){t.isLoaded=!0}),100)},mounted:function(){var t=this,e=[],s=0,a=0;this.board.members.forEach((function(t){e.push({username:t.username,userId:t._id,allTasks:0,doneTasks:0})})),e.push({username:"guest",allTasks:0,doneTasks:0}),this.board.taskLists.forEach((function(t){t.tasks.forEach((function(t){s++,t.status.isDone&&e.forEach((function(e){(e.userId===t.status.member._id||"guest"===e.username&&e.username===t.status.member.username)&&(e.doneTasks++,a++)})),t.members.length>0&&t.members.forEach((function(t){e.forEach((function(e){(e.userId===t._id||"guest"===e.username&&e.username===t.username)&&e.allTasks++}))}))}))}));var n=xe.getRandomColor();e.forEach((function(e){t.barChartdata.labels.push(e.username),t.barChartdata.datasets[0].backgroundColor.push(n),t.barChartdata.datasets[0].data.push(e.doneTasks),t.barChartdata.datasets[1].data.push(e.allTasks-e.doneTasks)})),this.barChartdata.datasets[0].label+="(".concat(a,")"),this.barChartdata.datasets[1].label+="(".concat(s-a,")")},components:{avatar:m.a,colorPickerLarge:ce,dueDatePicker:ge,addMember:ye,barChart:je}},Ne=Le,Se=Object(h["a"])(Ne,ee,se,!1,null,null,null),Re=Se.exports,Ee=s("8055"),Ie=s.n(Ee),Be="/",Pe={setup:Ue,terminate:Me,on:Je,off:ze,emit:Fe};function Ue(){$e=Ie()(Be)}function Me(){$e=null}function Je(t,e){$e.on(t,e)}function ze(t,e){$e.off(t,e)}function Fe(t,e){$e&&$e.emit(t,e)}var Ke,Qe,He,qe,Ye={name:"board-details",data:function(){return{board:null,isTaskOpen:!1,isDrop:!0,isOpenActivitylog:!1,isOpenBoardSetting:!1,isAddMember:!1,users:[]}},computed:{boardStyle:function(){var t;return this.board.style.color?t=this.board.style.color:this.board.style.url&&(t='url("'.concat(this.board.style.url,'") no-repeat fixed 100%')),t}},methods:{updateLocalBoard:function(t){this.board=t},updateBoard:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=JSON.parse(JSON.stringify(t.board)),e.next=3,t.$store.dispatch({type:"updateBoard",board:s});case 3:Pe.emit("update board",JSON.parse(JSON.stringify(t.board)));case 4:case"end":return e.stop()}}),e)})))()},updateLists:function(t){this.board.taskLists=t,this.updateBoard()},upadteActivitylog:function(t){this.$store.commit({type:"updateActivitieslog",activitylog:t}),this.board=this.$store.getters.board,Pe.emit("update board",JSON.parse(JSON.stringify(this.board)))},toggleActivitylog:function(){this.isOpenActivitylog=!this.isOpenActivitylog},toggleSettings:function(){this.isOpenBoardSetting=!this.isOpenBoardSetting},setBgc:function(t){this.board.style=t,this.updateBoard()},changeDate:function(t){this.board.dueDate=t,this.updateBoard()},deleteBoard:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"deleteBoard",boardId:t.board._id});case 2:t.$router.push("/");case 3:case"end":return e.stop()}}),e)})))()},updateBoardname:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e.board.name=t,s.next=3,e.$store.dispatch({type:"updateBoard",board:e.board});case 3:case"end":return s.stop()}}),s)})))()},addMember:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"getUsers"});case 2:s=e.sent,t.isAddMember=!0,t.users=s;case 5:case"end":return e.stop()}}),e)})))()},addNewMember:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a={_id:t._id,username:t.username,imgUrl:t.imgUrl},e.board.members.push(a),s.next=4,e.$store.dispatch({type:"updateBoard",board:e.board});case 4:case"end":return s.stop()}}),s)})))()},removeMember:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=e.board.members.findIndex((function(e){return e._id===t._id})),e.board.members.splice(a,1),s.next=4,e.$store.dispatch({type:"updateBoard",board:e.board});case 4:case"end":return s.stop()}}),s)})))()}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.$route.params.id,e.next=3,t.$store.dispatch({type:"loadBoard",boardId:s});case 3:a=e.sent,t.board=JSON.parse(JSON.stringify(a)),Pe.setup(),Pe.emit("board topic",t.board._id),Pe.on("update newBoard",t.updateLocalBoard);case 8:case"end":return e.stop()}}),e)})))()},destroyed:function(){Pe.off("update newBoard",this.updateLocalBoard),Pe.terminate()},watch:{"$route.params":function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.id,t.next=3,this.$store.dispatch({type:"loadBoard",boardId:e});case 3:s=t.sent,this.board=JSON.parse(JSON.stringify(s)),Pe.emit("board topic",e);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},components:{boardNav:J,tasklistList:Yt,activitylog:te,boardSettings:Re,addMember:ye}},Ge=Ye,Ze=Object(h["a"])(Ge,R,E,!1,null,null,null),We=Ze.exports,Ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"screen",on:{click:t.closeTaskEdit}},[t.task?s("section",{staticClass:"task-details",on:{click:function(t){t.stopPropagation()}}},[s("div",{staticClass:"header"},[s("button",{staticClass:"close-btn close-task",on:{click:t.closeTaskEdit}},[s("font-awesome-icon",{attrs:{icon:"times"}})],1),t.task.cover?s("div",{staticClass:"cover-container"},[s("div",{staticClass:"img-container"},[s("img",{staticClass:"cover-img",attrs:{src:t.task.cover}})]),s("button",{staticClass:"task-btn cover-btn",on:{click:t.removeCover}},[t._v("Remove cover")])]):t._e()]),s("div",{staticClass:"details-container"},[s("section",{staticClass:"task-data"},[s("div",{staticClass:"task-name"},[s("i",{staticClass:"el-icon-s-claim icon"}),s("div",[t.isOpenName?s("input",{directives:[{name:"model",rawName:"v-model",value:t.task.name,expression:"task.name"}],staticClass:"task",attrs:{type:"text"},domProps:{value:t.task.name},on:{blur:t.saveName,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveName(e)},input:function(e){e.target.composing||t.$set(t.task,"name",e.target.value)}}}):s("h2",{on:{click:function(e){return e.stopPropagation(),t.toggle("isOpenName")}}},[t._v(t._s(t.task.name))])])]),s("div",{staticClass:"list-name"},[t._v("In list "+t._s(t.list.name))]),s("div",[s("label",{staticClass:"task-completed",attrs:{for:"isDone"}},[s("el-checkbox",{attrs:{name:"isDone"},on:{change:t.updatsStatus},model:{value:t.task.status.isDone,callback:function(e){t.$set(t.task.status,"isDone",e)},expression:"task.status.isDone"}}),s("span",[t._v("Completed task")])],1)]),s("br"),s("div",{staticClass:"main-data"},[s("section",{staticClass:"member-labels-date"},[s("div",[s("div",{staticClass:"members-content"},[t.task.members.length>0?s("h3",{staticClass:"sub-titles"},[t._v("Members")]):t._e(),void 0!==t.task.members&&t.task.members.length>0?s("div",{on:{click:function(e){return t.toggle("isAddMember")}}},[s("div",{staticClass:"members"},t._l(t.task.members,(function(t){return s("div",{key:t._id},[t.imgUrl?s("img",{staticClass:"member-img",attrs:{src:t.imgUrl}}):s("avatar",{staticClass:"member",attrs:{username:t.username}})],1)})),0)]):t._e()])]),s("div",[t.task.labels.length>0?s("h3",{staticClass:"sub-titles"},[t._v("Labels")]):t._e(),t.task.labels.length>0?s("div",{staticClass:"labels"},t._l(t.task.labels,(function(e){return s("span",{key:e.id,staticClass:"label",style:{backgroundColor:e.color},on:{click:function(e){return t.toggle("isLabelsSelected")}}},[e.title?s("span",{staticClass:"label-title"},[t._v(t._s(e.title))]):t._e()])})),0):t._e()]),s("div",[t.task.dueDate?s("h3",{staticClass:"sub-titles"},[t._v("Due date")]):t._e(),t.task.dueDate?s("div",{staticClass:"due-date"},[t._v(t._s(t._f("dueDate")(t.task.dueDate)))]):t._e()])]),s("div",{staticClass:"description-content"},[t._m(0),t.isOpenDescription?s("div",{staticClass:"edit-description"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.task.description,expression:"task.description"}],staticClass:"description",domProps:{value:t.task.description},on:{input:function(e){e.target.composing||t.$set(t.task,"description",e.target.value)}}}),s("div",{staticClass:"description-btns"},[s("button",{staticClass:"add-btn",on:{click:t.saveDescription}},[t._v("Save")]),s("button",{staticClass:"close-btn close-task",on:{click:function(e){return t.toggle("isOpenDescription")}}},[s("font-awesome-icon",{attrs:{icon:"times"}})],1)])]):s("div",{staticClass:"edit-area description-txt",on:{click:function(e){return t.toggle("isOpenDescription")}}},[t._v(t._s(t.task.description?t.task.description:"Add a more detailed description"))])]),s("div",{staticClass:"checklists-content"},t._l(t.task.checklists,(function(e){return s("checklist-details",{key:e.id,attrs:{checklist:e},on:{"update-checklist":t.updateChecklist,"remove-checklist":t.removeChecklist,"add-todo":t.addTodo,"update-todo-activity":t.updateTodoActivity}})})),1)]),s("div",[s("div",{staticClass:"activity-header"},[s("div",{staticClass:"activity-title-content"},[s("font-awesome-icon",{staticClass:"icon",attrs:{icon:"tasks"}}),s("h4",{staticClass:"activity-title"},[t._v("Activity")])],1),s("button",{staticClass:"show-btn task-btn",on:{click:function(e){return t.toggle("isOpenActivitylog")}}},[t._v(t._s(t.activityDetails))])]),t.isOpenActivitylog?s("activitylog",{staticClass:"task-activitylog",attrs:{activitieslog:t.activitieslog}}):t._e()],1)]),s("section",{staticClass:"task-buttons"},[s("h4",[t._v("Add to task")]),s("div",{staticClass:"main-buttons"},[s("div",[s("button",{staticClass:"main-btn task-btn",on:{click:function(e){return t.toggle("isAddMember")}}},[s("i",{staticClass:"el-icon-user"}),t._v(" Members ")]),t.isAddMember?s("member-picker",{attrs:{members:t.boardMembers},on:{"close-member-picker":function(e){return t.toggle("isAddMember")},"update-member":t.updateMember}}):t._e()],1),s("div",[s("button",{staticClass:"main-btn task-btn",on:{click:function(e){return t.toggle("isLabelsSelected")}}},[s("i",{staticClass:"el-icon-price-tag"}),t._v(" Labels ")]),t.isLabelsSelected?s("label-picker",{attrs:{selectedLabels:t.task.labels},on:{"add-label":t.addLabel,"remove-label":t.removeLabel,"update-label":t.updateLabel,"close-labels":function(e){return t.toggle("isLabelsSelected")}}}):t._e()],1),s("div",[s("button",{staticClass:"main-btn task-btn",on:{click:function(e){return t.toggle("isDueToSelected")}}},[s("i",{staticClass:"el-icon-time"}),t._v(" Due date ")]),t.isDueToSelected?s("due-date-picker",{staticClass:"due-date-picker",attrs:{dueDate:t.task.dueDate?t.task.dueDate:Date.now()},on:{"close-due-date":function(e){return t.toggle("isDueToSelected")},"date-change":t.changeDate}}):t._e()],1),s("div",[s("button",{staticClass:"main-btn task-btn",on:{click:function(e){return t.toggle("isOpenChecklist")}}},[s("i",{staticClass:"el-icon-document-checked"}),t._v(" Checklist ")]),t.isOpenChecklist?s("checklist-picker",{on:{"add-checklist":t.addChecklist,"close-checklist-picker":function(e){return t.toggle("isOpenChecklist")}}}):t._e()],1),s("div",[s("button",{staticClass:"main-btn task-btn",on:{click:function(e){return t.toggle("isColorPickerOpen")}}},[s("i",{staticClass:"el-icon-edit"}),t._v(" Change color ")]),t.isColorPickerOpen?s("color-picker-medium",{on:{"set-color":t.setColor,"close-color-picker":function(e){return t.toggle("isColorPickerOpen")}}}):t._e()],1),s("div",[s("label",{staticClass:"cover-content",attrs:{for:"add-img"}},[t._m(1),s("input",{staticClass:"cover-input",attrs:{id:"add-img",type:"file"},on:{change:t.addImg}})])]),s("button",{staticClass:"main-btn task-btn",on:{click:t.copyTask}},[s("i",{staticClass:"el-icon-document-copy"}),t._v(" Copy ")]),s("div",[s("button",{staticClass:"main-btn task-btn",on:{click:function(e){return t.deleteTask()}}},[s("i",{staticClass:"el-icon-delete"}),t._v(" Delete ")])])])])])]):t._e(),s("user-msg")],1)},Xe=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"description-title"},[s("i",{staticClass:"el-icon-s-unfold icon"}),s("h4",[t._v("Description")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cover-btn task-btn"},[s("i",{staticClass:"el-icon-picture-outline cover-icon"}),s("span",[t._v("Cover")])])}],ts=(s("a4d3"),s("e01a"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"label-picker"},[s("header",[t.isAddTitle?s("button",{staticClass:"close-btn",on:{click:function(e){return t.toggleAddTitle()}}},[s("font-awesome-icon",{attrs:{icon:"times"}})],1):s("button",{staticClass:"close-btn",on:{click:function(e){return t.$emit("close-labels")}}},[s("font-awesome-icon",{attrs:{icon:"times"}})],1),s("h2",[t._v("Labels")])]),s("main",[t.isAddTitle?s("form",{staticClass:"title-form",on:{submit:function(e){return e.preventDefault(),t.saveTitle(e)}}},[s("div",{staticClass:"selected-color el-icon-check",style:{backgroundColor:t.currLabelColor}}),s("div",{staticClass:"form-header"},[t._v("Add a title")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.allLabelsMap[t.currLabelColor],expression:"allLabelsMap[currLabelColor]"}],staticClass:"task",attrs:{type:"text",placeholder:"Enter title...",maxlength:"10"},domProps:{value:t.allLabelsMap[t.currLabelColor]},on:{input:function(e){e.target.composing||t.$set(t.allLabelsMap,t.currLabelColor,e.target.value)}}}),t._m(0)]):s("section",t._l(Object.keys(t.allLabelsMap),(function(e){return s("div",{key:e,staticClass:"label-content"},[s("span",{staticClass:"label",style:{backgroundColor:e},on:{click:function(s){return t.updateLabels(e)}}},[t.allLabelsMap[e]?s("span",{staticClass:"label-title"},[t._v(t._s(t.allLabelsMap[e]))]):t._e(),t.isSelectedLabel(e)?s("span",{staticClass:"check-title el-icon-check"}):t._e()]),s("button",{staticClass:"add-title-btn el-icon-edit",attrs:{title:"Add title"},on:{click:function(s){return t.toggleAddTitle(e)}}})])})),0)])])}),es=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-btn"},[s("button",{staticClass:"add-btn"},[t._v("Save")])])}],ss={name:"label-picker",props:{selectedLabels:Array},data:function(){return{allLabelsMap:{"#eb5a46":"","#0079bf":"","#61bd4f":"","#f2d600":"","#ff9f1a":"","#c377e0":"","#0098b7":""},isAddTitle:!1,currLabelColor:null}},methods:{isSelectedLabel:function(t){var e=this.selectedLabels.find((function(e){return e.color===t}));return!!e&&(this.allLabelsMap[t]=e.title,!0)},updateLabels:function(t){var e=this,s=!1;if(this.selectedLabels.forEach((function(a){a.color===t&&(s=!0,e.allLabelsMap[t]="",e.$emit("remove-label",a))})),!s){var a={color:t,title:""};this.$emit("add-label",a)}},toggleAddTitle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.isAddTitle=!this.isAddTitle,this.currLabelColor=t},saveTitle:function(){var t={color:this.currLabelColor,title:JSON.parse(JSON.stringify(this.allLabelsMap[this.currLabelColor]))};this.$emit("update-label",t),this.isAddTitle=!this.isAddTitle}}},as=ss,ns=Object(h["a"])(as,ts,es,!1,null,null,null),rs=ns.exports,is=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"checklist-picker"},[s("header",[s("button",{staticClass:"close-btn",on:{click:function(e){return t.$emit("close-checklist-picker")}}},[s("font-awesome-icon",{attrs:{icon:"times"}})],1),s("h2",[t._v("Add Checklist")])]),s("div",{staticClass:"main"},[s("label",[s("div",[t._v("Title")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],ref:"input",staticClass:"task",attrs:{type:"text",placeholder:t.title},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),s("button",{staticClass:"add-btn",on:{click:t.saveTitle}},[t._v("Add")])])])},os=[],cs={name:"checklist-picker",data:function(){return{title:"Checklist"}},methods:{saveTitle:function(){this.$emit("add-checklist",JSON.parse(JSON.stringify(this.title)))}},mounted:function(){this.$refs.input.focus(),this.$refs.input.setSelectionRange(0,this.title.length)}},ls=cs,us=Object(h["a"])(ls,is,os,!1,null,null,null),ds=us.exports,ms=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"color-picker-medium-content"},[s("header",[s("button",{staticClass:"close-btn",on:{click:function(e){return t.$emit("close-color-picker")}}},[s("font-awesome-icon",{attrs:{icon:"times"}})],1),s("h2",[t._v("Change the task color")])]),s("div",{staticClass:"color-picker-medium"},t._l(t.colors,(function(e){return s("div",{key:e,staticClass:"color",class:{active:e===t.currColor},style:{background:e},on:{click:function(s){return t.setColor(e)}}})})),0)])},ps=[],gs={data:function(){return{colors:["linear-gradient(-225deg, rgb(105, 234, 203) 0%, rgb(234, 204, 248) 48%, rgb(102, 84, 241) 100%)","linear-gradient(to top, rgb(213, 222, 231) 0%, rgb(255, 175, 189) 0%, rgb(201, 255, 191) 100%)","linear-gradient(to right, rgb(247, 140, 160) 0%, rgb(249, 116, 143) 19%, rgb(253, 134, 140) 60%, rgb(254, 154, 139) 100%)","linear-gradient(to top, rgb(210, 153, 194) 0%, rgb(254, 249, 215) 100%)","linear-gradient(to top, rgb(251, 194, 235) 0%, rgb(166, 193, 238) 100%)","linear-gradient(120deg, rgb(246, 211, 101) 0%, rgb(253, 160, 133) 100%)","linear-gradient(0.25turn, rgb(63, 135, 166), rgb(235, 248, 225), rgb(246, 157, 60))","rgb(174, 212, 255)","rgb(175, 238, 238)","rgb(221, 170, 255)","rgb(255, 218, 185)","rgb(255, 198, 198)","rgb(253, 147, 110)","rgb(255, 127, 80)","rgb(254, 255, 174)","rgb(240, 230, 140)","rgb(183, 255, 174)","rgb(34, 200, 0)","#ebecf0","#fff"],currColor:""}},methods:{setColor:function(t){this.currColor=t,this.$emit("set-color",this.currColor)}}},hs=gs,bs=Object(h["a"])(hs,ms,ps,!1,null,null,null),vs=bs.exports,fs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"member-picker"},[s("header",[s("button",{staticClass:"close-btn",on:{click:function(e){return t.$emit("close-member-picker")}}},[s("font-awesome-icon",{attrs:{icon:"times"}})],1),s("h2",{staticClass:"member-title"},[t._v("Members")])]),s("h3",{staticClass:"board-member-title"},[t._v("Board members")]),s("ul",{staticClass:"members"},t._l(t.members,(function(e){return s("li",{key:e._id,staticClass:"member-content",on:{click:function(s){return t.updateMember(e)}}},[s("div",[e.imgUrl?s("img",{staticClass:"member-img",attrs:{src:e.imgUrl}}):s("avatar",{staticClass:"member",attrs:{username:e.username}})],1),s("div",[t._v(t._s(e.username))])])})),0)])},ks=[],ys={name:"member-picker",props:{members:Array},methods:{updateMember:function(t){var e=JSON.parse(JSON.stringify(t));this.$emit("update-member",e)}},components:{avatar:m.a}},Cs=ys,ws=Object(h["a"])(Cs,fs,ks,!1,null,null,null),_s=ws.exports,Os=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"checklist-details"},[s("div",{staticClass:"checklist-header"},[t.isOpenChangeName?s("div",{staticClass:"change-checklist-name"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.checklistName,expression:"checklistName"}],staticClass:"task",attrs:{type:"text"},domProps:{value:t.checklistName},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeChecklistName(e)},input:function(e){e.target.composing||(t.checklistName=e.target.value)}}}),s("button",{staticClass:"add-btn",on:{click:t.changeChecklistName}},[t._v("Save")]),s("button",{staticClass:"close-btn",on:{click:t.toggleChangeName}},[s("font-awesome-icon",{attrs:{icon:"times"}})],1)]):s("h4",{staticClass:"checklist-name",on:{click:t.toggleChangeName}},[s("i",{staticClass:"el-icon-circle-check check-icon"}),t._v(" "+t._s(t.checklist.name)+" ")]),s("button",{staticClass:"remove-checklist-btn",on:{click:t.removeChecklist}},[t._v("Delete")])]),s("el-progress",{class:{done:100===t.progress},attrs:{percentage:t.progress}}),t._l(t.checklist.todos,(function(e){return s("div",{key:e.id,staticClass:"todos"},[s("div",[s("el-checkbox",{on:{change:function(s){return t.updateTodo(e)}},model:{value:e.isDone,callback:function(s){t.$set(e,"isDone",s)},expression:"todo.isDone"}}),t.currTodoId!==e.id?s("div",{staticClass:"checklist-todo",on:{click:function(s){return t.setCurrTodoId(e)}}},[t._v(t._s(e.text))]):t._e(),t.currTodoId===e.id?s("div",{staticClass:"checklist-todo"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"todo.text"}],staticClass:"task",attrs:{type:"text"},domProps:{value:e.text},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeTodoName()},input:function(s){s.target.composing||t.$set(e,"text",s.target.value)}}}),s("button",{staticClass:"add-btn",on:{click:function(e){return t.changeTodoName()}}},[t._v("Save")]),s("button",{staticClass:"close-btn",on:{click:function(e){return t.setCurrTodoId()}}},[s("font-awesome-icon",{attrs:{icon:"times"}})],1)]):t._e()],1),t.currTodoId?t._e():s("button",{staticClass:"close-btn remove-todo",on:{click:function(s){return t.removeTodo(e)}}},[s("font-awesome-icon",{attrs:{icon:"times"}})],1)])})),t.isAddTodo?s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newTodo.text,expression:"newTodo.text"}],staticClass:"task",attrs:{type:"text",placeholder:"Add an item"},domProps:{value:t.newTodo.text},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTodo(e)},input:function(e){e.target.composing||t.$set(t.newTodo,"text",e.target.value)}}})]):s("div",{staticClass:"edit-area add-item",on:{click:t.toggleAddTodo}},[t._v("Add an item")]),t.isAddTodo?s("div",[s("button",{staticClass:"add-btn",on:{click:t.addTodo}},[t._v("Add")]),s("button",{staticClass:"close-btn",on:{click:t.toggleAddTodo}},[s("font-awesome-icon",{attrs:{icon:"times"}})],1)]):t._e()],2)},js=[],xs={name:"checklist-details",props:{checklist:Object},data:function(){return{isAddTodo:!1,isOpenChangeName:!1,isOpenChangeText:!1,checklistName:this.checklist.name,newTodo:{text:"",isDone:!1},todoText:"",currTodoId:""}},methods:{toggleAddTodo:function(){this.isAddTodo=!this.isAddTodo},toggleChangeName:function(){this.isOpenChangeName||(this.checklistName=this.checklist.name),this.isOpenChangeName=!this.isOpenChangeName},changeChecklistName:function(){this.checklist.name=this.checklistName,this.$emit("update-checklist",this.checklist),this.toggleChangeName()},removeChecklist:function(){this.$emit("remove-checklist",this.checklist.id)},setCurrTodoId:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e)this.currTodoId=e.id,this.todoText=e.text;else{var s=this.checklist.todos.find((function(e){return e.id===t.currTodoId}));s.text=this.todoText,this.currTodoId=""}},addTodo:function(){this.$emit("add-todo",this.checklist.id,JSON.parse(JSON.stringify(this.newTodo))),this.newTodo={text:"",isDone:!1}},updateTodo:function(t){this.$emit("update-checklist",this.checklist),this.$emit("update-todo-activity",t)},removeTodo:function(t){var e=this.checklist.todos.findIndex((function(e){return e.id===t.id}));this.checklist.todos.splice(e,1),this.$emit("update-checklist",this.checklist)},changeTodoName:function(){this.$emit("update-checklist",this.checklist),this.currTodoId=""}},computed:{progress:function(){var t=this.checklist.todos.length;if(0!==t){var e=this.checklist.todos.filter((function(t){return t.isDone}));return Math.round(e.length/t*100)}return 0}}},Ts=xs,As=Object(h["a"])(Ts,Os,js,!1,null,null,null),Ds=As.exports,$s=s("c1df"),Ls=s.n($s),Ns=new a["default"],Ss=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.msg?s("section",{staticClass:"msg-container",class:t.msg.type},[s("button",{staticClass:"close-btn",on:{click:t.closeMsg}},[s("font-awesome-icon",{attrs:{icon:"times"}})],1),s("div",[t._v(t._s(t.msg.txt))])]):t._e()},Rs=[],Es={data:function(){return{msg:null}},methods:{closeMsg:function(){this.msg=null}},created:function(){var t=this;Ns.$on("show-msg",(function(e){t.msg=e,setInterval((function(){t.msg=null}),2e3)}))}},Is=Es,Bs=Object(h["a"])(Is,Ss,Rs,!1,null,null,null),Ps=Bs.exports,Us={name:"task-details",data:function(){return{task:null,list:null,activitieslog:null,loggedinUser:null,isLabelsSelected:!1,isDueToSelected:!1,isOpenDescription:!1,isOpenName:!1,isOpenCover:!1,isOpenChecklist:!1,isColorPickerOpen:!1,isOpenActivitylog:!1,isAddMember:!1,newChecklist:null,boardMembers:[]}},methods:{getListAndTask:function(t){this.$store.commit({type:"setListAndTask",taskId:t}),this.task=this.$store.getters.currTask,this.list=this.$store.getters.currList},getTaskActivitylog:function(){this.$store.commit({type:"getTaskActivitylog",taskId:this.task.id}),this.activitieslog=this.$store.getters.currActivitylog},saveTaskData:function(t){Pe.emit("add activitylog",t),this.saveTask(t),this.getTaskActivitylog()},saveTask:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e&&t.$store.commit({type:"updateActivitieslog",activitylog:e}),s.prev=1,s.next=4,t.$store.dispatch({type:"updateTask",task:JSON.parse(JSON.stringify(t.task))});case 4:a=s.sent,t.task=a,s.next=10;break;case 8:s.prev=8,s.t0=s["catch"](1);case 10:case"end":return s.stop()}}),s,null,[[1,8]])})))()},toggle:function(t){this[t]=!this[t],"isOpenChecklist"===t&&this.getEmptyChecklist()},addLabel:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:e.task.labels.push(t),a=e.createActivitylog("added label to ".concat(e.task.name)),e.updateAllTitles(t),e.saveTaskData(a);case 4:case"end":return s.stop()}}),s)})))()},removeLabel:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:a=e.task.labels.findIndex((function(e){return e.color===t.color})),e.task.labels.splice(a,1),n=e.createActivitylog("removed label from ".concat(e.task.name)),e.saveTaskData(n);case 4:case"end":return s.stop()}}),s)})))()},updateLabel:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:a=e.task.labels.findIndex((function(e){return e.color===t.color})),e.updateAllTitles(t),-1!==a?e.task.labels.splice(a,1,t):e.addLabel(t),n=e.createActivitylog("updated label in ".concat(e.task.name)),e.saveTaskData(n);case 5:case"end":return s.stop()}}),s)})))()},updateAllTitles:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,e.$store.dispatch({type:"updateTitles",label:t});case 3:s.next=7;break;case 5:s.prev=5,s.t0=s["catch"](0);case 7:case"end":return s.stop()}}),s,null,[[0,5]])})))()},changeDate:function(t){this.task.dueDate=t;var e=Ls()(new Date(this.task.dueDate)).format("MMM Do YY"),s=this.createActivitylog("changed the due date of ".concat(this.task.name," to ").concat(e));this.saveTaskData(s)},deleteTask:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,s=t.createActivitylog("removed task ".concat(t.task.name)),t.$store.commit({type:"updateActivitieslog",activitylog:s}),e.next=5,t.$store.dispatch({type:"deleteTask",task:t.task});case 5:a={txt:"The task '".concat(t.task.name,"' has been successfully deleted"),type:"success"},Ns.$emit("show-msg",a),setTimeout((function(){var e=t.$route.params.id;t.$router.push("/board/".concat(e))}),1200),e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})))()},closeTaskEdit:function(){var t=this.$route.params.id;this.$router.push("/board/".concat(t))},saveDescription:function(){var t=this.createActivitylog("updated description in ".concat(this.task.name," to ").concat(this.task.description));this.saveTaskData(t),this.toggle("isOpenDescription")},saveName:function(){var t=this.createActivitylog("updated task name to ".concat(this.task.name));this.isOpenName=!1,this.saveTaskData(t)},updatsStatus:function(){var t;this.task.status.isDone?(this.task.status.member=JSON.parse(JSON.stringify(this.loggedinUser)),this.task.status.date=Date.now(),t=this.createActivitylog("completed task ".concat(this.task.name))):(this.task.status.member={},this.task.status.date=null,t=this.createActivitylog("incompleted task ".concat(this.task.name))),this.saveTaskData(t)},addImg:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.$store.dispatch({type:"uploadImg",ev:t});case 2:a=s.sent,e.updateCover(a);case 4:case"end":return s.stop()}}),s)})))()},updateCover:function(t){var e=this.createActivitylog("added cover in ".concat(this.task.name));this.task.cover=t,this.saveTaskData(e)},removeCover:function(){var t=this.createActivitylog("removed cover in ".concat(this.task.name));this.task.cover="",this.saveTaskData(t)},copyTask:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.createActivitylog("copy task ".concat(t.task.name)),t.$store.commit({type:"updateActivitieslog",activitylog:s}),a=JSON.parse(JSON.stringify(t.task)),n={newTask:a,taskListId:t.list.id},e.prev=4,e.next=7,t.$store.dispatch({type:"copyTask",taskData:n});case 7:r={txt:"The task '".concat(t.task.name,"' has been successfully copied"),type:"success"},Ns.$emit("show-msg",r),e.next=13;break;case 11:e.prev=11,e.t0=e["catch"](4);case 13:t.getTaskActivitylog();case 14:case"end":return e.stop()}}),e,null,[[4,11]])})))()},addChecklist:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(t){s.next=2;break}return s.abrupt("return");case 2:e.newChecklist.name=t,e.task.checklists.push(e.newChecklist),a=e.createActivitylog("added checklist in ".concat(e.task.name)),e.saveTaskData(a),e.toggle("isOpenChecklist");case 7:case"end":return s.stop()}}),s)})))()},updateChecklist:function(t){var e=this.task.checklists.findIndex((function(e){return e.id===t.id}));this.task.checklists.splice(e,1,t),this.saveTask()},removeChecklist:function(t){var e=this.task.checklists.findIndex((function(e){return e.id===t}));this.task.checklists.splice(e,1);var s=this.createActivitylog("removed checklist from ".concat(this.task.name));this.saveTaskData(s)},addTodo:function(t,e){this.$store.commit({type:"getId"});var s=this.$store.getters.currId;e.id=s;var a=this.task.checklists.findIndex((function(e){return e.id===t}));this.task.checklists[a].todos.push(e);var n=this.createActivitylog("added item to checklist in ".concat(this.task.name));this.saveTaskData(n)},updateTodoActivity:function(t){var e;e=t.isDone?this.createActivitylog("completed ".concat(t.text," on ").concat(this.task.name)):this.createActivitylog("incomplete ".concat(t.text," on ").concat(this.task.name)),this.saveTaskData(e)},setColor:function(t){this.task.backgroundColor=t;var e=this.createActivitylog("changed the background of ".concat(this.task.name));this.saveTaskData(e)},updateMember:function(t){var e,s=this.task.members.findIndex((function(e){return e._id===t._id}));-1===s?(this.task.members.push(t),e=this.createActivitylog("joined to ".concat(this.task.name))):(this.task.members.splice(s,1),e=this.createActivitylog("left from ".concat(this.task.name))),this.saveTaskData(e)},getEmptyChecklist:function(){try{this.$store.commit({type:"setEmptyChecklist"}),this.newChecklist=JSON.parse(JSON.stringify(this.$store.getters.currChecklist))}catch(t){}},createActivitylog:function(t){return{txt:t,createdAt:Date.now(),taskId:this.task.id}},addActivity:function(t){this.saveTask(t),this.getTaskActivitylog()}},computed:{activityDetails:function(){return this.isOpenActivitylog?"Hide Details":"Show Details"}},created:function(){var t=this.$route.params.taskId;this.getListAndTask(t),this.getTaskActivitylog(),this.boardMembers=this.$store.getters.boardMembers,this.loggedinUser=this.$store.getters.loggedinUser,Pe.setup(),Pe.emit("task topic",this.task.id),Pe.on("activitylog updated",this.addActivity)},destroyed:function(){Pe.off("activitylog updated",this.addActivity)},components:{labelPicker:rs,dueDatePicker:ge,checklistPicker:ds,avatar:m.a,checklistDetails:Ds,colorPickerMedium:vs,activitylog:te,memberPicker:_s,userMsg:Ps}},Ms=Us,Js=Object(h["a"])(Ms,Ve,Xe,!1,null,null,null),zs=Js.exports,Fs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"user-auth"},[t.isLogin?s("div",{staticClass:"login"},[s("h4",[t._v("Welcome Back")]),s("form",{on:{submit:function(e){return e.preventDefault(),t.doLogin(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.loginCred.email,expression:"loginCred.email"}],attrs:{type:"email",placeholder:"Email"},domProps:{value:t.loginCred.email},on:{input:function(e){e.target.composing||t.$set(t.loginCred,"email",e.target.value)}}}),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.loginCred.password,expression:"loginCred.password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:t.loginCred.password},on:{input:function(e){e.target.composing||t.$set(t.loginCred,"password",e.target.value)}}}),s("br"),s("button",{staticClass:"add-btn"},[t._v("Login")]),s("div",{staticClass:"msg"},[t._v(t._s(t.msg))])]),s("button",{staticClass:"not-member",on:{click:function(e){t.isLogin=!1}}},[t._v(" Not a member? Create your account "),s("span",[t._v("here")])])]):s("div",{staticClass:"signup"},[s("h4",[t._v("Hello, nice meeting you")]),s("form",{on:{submit:function(e){return e.preventDefault(),t.doSignup(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.email,expression:"signupCred.email"}],attrs:{type:"email",placeholder:"Email"},domProps:{value:t.signupCred.email},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"email",e.target.value)}}}),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.password,expression:"signupCred.password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:t.signupCred.password},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"password",e.target.value)}}}),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.username,expression:"signupCred.username"}],attrs:{type:"text",placeholder:"Username"},domProps:{value:t.signupCred.username},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"username",e.target.value)}}}),s("br"),s("label",{attrs:{for:"add-img"}},[t._m(0),s("input",{staticClass:"img-input",attrs:{id:"add-img",type:"file"},on:{change:t.addImg}})]),s("button",{staticClass:"add-btn"},[t._v("Signup")]),s("div",{staticClass:"msg"},[t._v(t._s(t.msg))])])])])},Ks=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("i",{staticClass:"el-icon-picture-outline"}),s("span",[t._v("Add image")])])}],Qs={name:"user-auth",data:function(){return{isLogin:!0,signupCred:{},loginCred:{},msg:""}},methods:{doLogin:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=t.loginCred,s.email&&s.password){e.next=3;break}return e.abrupt("return",t.msg="Please enter user/password");case 3:return e.next=5,t.$store.dispatch({type:"login",userCred:s});case 5:a=e.sent,a?t.$router.push("/"):t.msg="Email address or password is incorrect",t.loginCred={};case 8:case"end":return e.stop()}}),e)})))()},doSignup:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.signupCred.imgUrl||(t.signupCred.imgUrl=""),s=t.signupCred,s.email&&s.password&&s.username){e.next=4;break}return e.abrupt("return",t.msg="Please fill up the form");case 4:return e.next=6,t.$store.dispatch({type:"signup",userCred:s});case 6:a=e.sent,t.signupCred={},a?t.$router.push("/"):t.msg="Email Address is Already Registered";case 9:case"end":return e.stop()}}),e)})))()},addImg:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.$store.dispatch({type:"uploadImg",ev:t});case 2:a=s.sent,e.signupCred.imgUrl=a;case 4:case"end":return s.stop()}}),s)})))()}}},Hs=Qs,qs=(s("3c8e"),Object(h["a"])(Hs,Fs,Ks,!1,null,"a42ed654",null)),Ys=qs.exports,Gs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.board?s("div",{staticClass:"board-dashboard container board-details",style:{background:t.boardStyle}},[s("div",{staticClass:"title"},[t._v(" Management Dashboard | "),s("button",{on:{click:function(e){return t.$router.push("/board/"+t.boardId)}}},[t._v("Back to board")])]),s("summary-dashboard",{attrs:{memberCount:t.board.members.length,tasksCount:t.tasksCount,completedTasksCount:t.completedTasksCount}}),s("div",{staticClass:"chart main-chart"},[s("h4",[t._v("Project progress by timeline:")]),s("p",[t._v("(from the begining of the project until due date)")]),s("div",{staticClass:"line-chart-container"},[t.loaded?s("line-chart",{attrs:{chartdata:t.lineChartdata,options:t.optionsLine}}):t._e()],1)]),s("div",{staticClass:"charts"},[s("div",{staticClass:"chart"},[s("h4",[t._v("Tasks count per lists (total and completed):")]),t.loaded?s("pai-chart",{attrs:{chartdata:t.paiChartdata}}):t._e()],1),s("div",{staticClass:"chart"},[s("h4",[t._v("Tasks status per member:")]),t.loaded?s("bar-chart",{attrs:{chartdata:t.barChartdata,options:t.optionsBar}}):t._e()],1)])],1):t._e()},Zs=[],Ws=(s("d81d"),s("6062"),s("3ca3"),s("ddb0"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"summary-dashboard"},[s("div",{staticClass:"info-container"},[s("div",{staticClass:"icon-container members"},[s("font-awesome-icon",{staticClass:"icon",attrs:{icon:"users"}})],1),s("div",{staticClass:"info"},[s("span",[t._v("members")]),s("span",[t._v(t._s(t.memberCount))])])]),s("div",{staticClass:"info-container"},[s("div",{staticClass:"icon-container tasks"},[s("font-awesome-icon",{staticClass:"icon",attrs:{icon:"tasks"}})],1),s("div",{staticClass:"info"},[s("span",[t._v("tasks")]),s("span",[t._v(t._s(t.tasksCount))])])]),s("div",{staticClass:"info-container"},[s("div",{staticClass:"icon-container completed"},[s("font-awesome-icon",{staticClass:"icon",attrs:{icon:"check"}})],1),s("div",{staticClass:"info"},[s("span",[t._v("completed tasks")]),s("span",[t._v(t._s(t.completedTasksCount))])])]),s("div",{staticClass:"info-container"},[s("div",{staticClass:"icon-container incompleted"},[s("font-awesome-icon",{staticClass:"icon",attrs:{icon:"times"}})],1),s("div",{staticClass:"info"},[s("span",[t._v("incompleted tasks")]),s("span",[t._v(t._s(t.tasksCount-t.completedTasksCount))])])])])}),Vs=[],Xs={props:{memberCount:Number,tasksCount:Number,completedTasksCount:Number}},ta=Xs,ea=Object(h["a"])(ta,Ws,Vs,!1,null,null,null),sa=ea.exports,aa={extends:Ce["b"],props:{chartdata:{type:Object,default:null},options:{type:Object,default:null}},mounted:function(){this.renderChart(this.chartdata,this.options)}},na=aa,ra=Object(h["a"])(na,Ke,Qe,!1,null,null,null),ia=ra.exports,oa={extends:Ce["c"],props:{chartdata:{type:Object,default:null},options:{type:Object,default:null}},mounted:function(){this.renderChart(this.chartdata,this.options)}},ca=oa,la=Object(h["a"])(ca,He,qe,!1,null,null,null),ua=la.exports,da={name:"PaiChartContainer",components:{summaryDashboard:sa,lineChart:ia,paiChart:ua,barChart:je},data:function(){return{loaded:!1,board:null,boardId:null,tasksCount:0,completedTasksCount:0,lineChartdata:{labels:[],datasets:[]},paiChartdata:{labels:[],datasets:[{backgroundColor:[],data:[]},{backgroundColor:[],data:[]}]},barChartdata:{labels:[],datasets:[{label:"Completed Tasks ",backgroundColor:[],data:[]},{label:"Incompleted Tasks ",data:[]}]},optionsLine:{maintainAspectRatio:!1},optionsBar:{scales:{yAxes:[{stacked:!0,ticks:{beginAtZero:!0,min:0}}],xAxes:[{stacked:!0,ticks:{beginAtZero:!0,categoryPercentage:.5,barPercentage:1}}]},responsive:!0,maintainAspectRatio:!1}}},computed:{boardStyle:function(){var t;return this.board.style.color?t=this.board.style.color:this.board.style.url&&(t='url("'.concat(this.board.style.url,'") no-repeat fixed 100%')),t}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,a,n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loaded=!1,e.prev=1,s=t.$route.params.id,e.next=5,t.$store.dispatch({type:"loadBoard",boardId:s});case 5:a=e.sent,t.boardId=s,t.board=a,n=[],r=[a.createdAt,a.dueDate],a.members.forEach((function(e){n.push({username:e.username,userId:e._id,allTasks:0,doneTasks:0}),t.lineChartdata.datasets.push({label:e.username,borderColor:[xe.getRandomColor()],fill:!1,data:[]})})),n.push({username:"guest",allTasks:0,doneTasks:0}),a.taskLists.forEach((function(e){t.paiChartdata.labels.push(e.name),t.paiChartdata.datasets[0].data.push(e.tasks.length);var s=xe.getRandomColor();t.paiChartdata.datasets[0].backgroundColor.push(s),t.paiChartdata.datasets[1].backgroundColor.push(s);var a=0;e.tasks.forEach((function(e){t.tasksCount++,e.status.isDone&&(r.push(e.status.date),a++,n.forEach((function(s){s.username===e.status.member.username&&(s.doneTasks++,t.completedTasksCount++)}))),e.members.length>0&&e.members.forEach((function(t){n.forEach((function(e){e.username===t.username&&e.allTasks++}))}))})),t.paiChartdata.datasets[1].data.push(a)})),r.sort((function(t,e){return t-e})),r=r.map((function(t){return new Date(t).toDateString()})),r=new Set(r),t.lineChartdata.labels=Object(H["a"])(r),r.forEach((function(e){t.lineChartdata.datasets.forEach((function(t){t.data.push({x:e,y:0})}))})),t.board.taskLists.forEach((function(e){e.tasks.forEach((function(e){e.status.isDone&&t.lineChartdata.datasets.forEach((function(t){t.label===e.status.member.username&&t.data.forEach((function(t){t.x===new Date(e.status.date).toDateString()&&t.y++}))}))}))})),i=xe.getRandomColor(),n.forEach((function(e){t.barChartdata.labels.push(e.username),t.barChartdata.datasets[0].backgroundColor.push(i),t.barChartdata.datasets[0].data.push(e.doneTasks),t.barChartdata.datasets[1].data.push(e.allTasks-e.doneTasks)})),t.barChartdata.datasets[0].label+="(".concat(t.completedTasksCount,")"),t.barChartdata.datasets[1].label+="(".concat(t.tasksCount-t.completedTasksCount,")"),t.loaded=!0,e.next=28;break;case 26:e.prev=26,e.t0=e["catch"](1);case 28:case"end":return e.stop()}}),e,null,[[1,26]])})))()}},ma=da,pa=Object(h["a"])(ma,Gs,Zs,!1,null,null,null),ga=pa.exports;a["default"].use(T["a"]);var ha=[{path:"/",name:"homePage",component:S},{path:"/board/:id/",name:"boardDetails",component:We,children:[{path:"task-details/:taskId",name:"taskDetails",component:zs}]},{path:"/auth",name:"userAuth",component:Ys},{path:"/board/dashboard/:id/",name:"dashboard",component:ga}],ba=new T["a"]({mode:"history",base:"/",routes:ha}),va=ba,fa=s("2f62"),ka=(s("fb6a"),s("bc3a")),ya=s.n(ka),Ca="/api/",wa=ya.a.create({withCredentials:!0}),_a={get:function(t,e){return Oa(t,"GET",e)},post:function(t,e){return Oa(t,"POST",e)},put:function(t,e){return Oa(t,"PUT",e)},delete:function(t,e){return Oa(t,"DELETE",e)}};function Oa(t){return ja.apply(this,arguments)}function ja(){return ja=Object(i["a"])(regeneratorRuntime.mark((function t(e){var s,a,n,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=r.length>1&&void 0!==r[1]?r[1]:"get",a=r.length>2&&void 0!==r[2]?r[2]:null,t.prev=2,t.next=5,wa({url:"".concat(Ca).concat(e),method:s,data:a});case 5:return n=t.sent,t.abrupt("return",n.data);case 9:t.prev=9,t.t0=t["catch"](2),401===t.t0.response.status&&va.push("/");case 12:case"end":return t.stop()}}),t,null,[[2,9]])}))),ja.apply(this,arguments)}var xa="board",Ta={query:Aa,getById:Da,remove:$a,save:La,getEmptyBoard:Na,getEmptyTasksList:Sa,getEmptyTask:Ra,getEmptyChecklist:Ea};function Aa(){return _a.get(xa)}function Da(t){return _a.get("".concat(xa,"/").concat(t))}function $a(t){return _a.delete("".concat(xa,"/").concat(t))}function La(t){return t._id?_a.put("".concat(xa,"/").concat(t._id),t):_a.post("".concat(xa),t)}function Na(){return{name:"New Board",members:[],tags:[],style:{color:"rgb(189, 191, 192)",url:""},creator:{id:"",name:"",img:""},createdAt:Date.now(),dueDate:Date.now(),description:"",taskLists:[],activitieslog:[]}}function Sa(){return{id:xe.makeId(),name:"",backgroundColor:"#ebecf0",sortBy:"",tasks:[]}}function Ra(){return{id:xe.makeId(),name:"",description:"",dueDate:null,createdAt:Date.now(),members:[],labels:[],comments:[{createdBy:"",txt:"",createdAt:""}],cover:"",attachment:{},checklists:[],backgroundColor:"#fff",status:{isDone:!1,member:{},date:null}}}function Ea(){return{id:xe.makeId(),name:"Checklist",todos:[]}}var Ia=150,Ba=50,Pa={state:{boards:null,board:null,currTask:null,currList:null,currChecklist:null,currActivitylog:null,currId:""},getters:{currTask:function(t){return JSON.parse(JSON.stringify(t.currTask))},currList:function(t){return JSON.parse(JSON.stringify(t.currList))},currChecklist:function(t){return t.currChecklist},currId:function(t){return t.currId},currActivitylog:function(t){return JSON.parse(JSON.stringify(t.currActivitylog))},boardMembers:function(t){return t.board.members},board:function(t){return t.board}},mutations:{setEmptyTask:function(t){var e=Ta.getEmptyTask();t.currTask=e},setEmptyTasksList:function(t){var e=Ta.getEmptyTasksList();t.currList=e},setEmptyBoard:function(t){var e=Ta.getEmptyBoard(),s=JSON.parse(JSON.stringify(this.state.userStore.loggedinUser));e.members.push({_id:s._id,username:s.username,imgUrl:s.imgUrl}),t.board=e},getTaskActivitylog:function(t,e){var s=e.taskId;t.currActivitylog=t.board.activitieslog.filter((function(t){return t.taskId===s}))},getUserActivitylog:function(t,e){var s=e.userId;t.currActivitylog=t.board.activitieslog.filter((function(t){return t.user._id===s}))},setEmptyChecklist:function(t){var e=Ta.getEmptyChecklist();t.currChecklist=e},setListAndTask:function(t,e){for(var s=e.taskId,a=0;a<t.board.taskLists.length;a++){var n=t.board.taskLists[a];if(t.currTask=n.tasks.find((function(t){return t.id===s})),t.currTask)return void(t.currList=t.board.taskLists[a])}},setBoards:function(t,e){var s=e.boards;t.boards=s},setBoard:function(t,e){var s=e.board;t.board=s},addTask:function(t,e){var s=e.taskData,a=t.board.taskLists.find((function(t){return t.id===s.taskListId}));a.tasks.push(s.newTask)},addTasksList:function(t,e){var s=e.listData;t.board.taskLists.push(s)},updateBoard:function(t,e){var s=e.board;t.board=s},updateTask:function(t,e){for(var s=e.task,a=0;a<t.board.taskLists.length;a++){var n=t.board.taskLists[a],r=n.tasks.findIndex((function(t){return t.id===s.id}));if(r>=0)return void t.board.taskLists[a].tasks.splice(r,1,s)}},deleteTask:function(t,e){for(var s=e.task,a=0;a<t.board.taskLists.length;a++){var n=t.board.taskLists[a],r=n.tasks.findIndex((function(t){return t.id===s.id}));if(r>=0)return void t.board.taskLists[a].tasks.splice(r,1)}t.currTask=null},deleteList:function(t,e){var s=e.listId,a=t.board.taskLists.findIndex((function(t){return t.id===s}));a>=0&&t.board.taskLists.splice(a,1)},updateTitles:function(t,e){var s=e.label;t.board.taskLists.forEach((function(t){t.tasks.forEach((function(t){t.labels.forEach((function(t){s.color===t.color&&(s.title?t.title=s.title:s.title=t.title)}))}))}))},deleteBoard:function(t){t.board=null},getId:function(t){var e=xe.makeId();t.currId=e},updateActivitieslog:function(t,e){var s=e.activitylog;if(t.board.activitieslog.length>=Ia){var a=t.board.activitieslog.length-Ba;t.board.activitieslog=t.board.activitieslog.slice(0,a)}s.user=this.state.userStore.loggedinUser,t.board.activitieslog.unshift(s)},updateUserName:function(t,e){var s=e.user;t.boards.forEach((function(t){var e=t.members.find((function(t){return t._id===s._id}));e&&(e.username=s.username,t.taskLists.forEach((function(t){t.tasks.forEach((function(t){t.status.member._id===s._id&&(t.status.member.username=s.username)}))})))}))}},actions:{loadBoards:function(t){return Object(i["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ta.query();case 2:return s=e.sent,t.commit({type:"setBoards",boards:s}),e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})))()},loadBoard:function(t,e){var s=e.boardId;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ta.getById(s);case 2:return a=e.sent,t.commit({type:"setBoard",board:a}),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))()},addTask:function(t,e){var s=e.taskData;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commit({type:"addTask",taskData:s}),e.next=3,Ta.save(t.state.board);case 3:return a=e.sent,Pe.emit("update board",a),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))()},addTasksList:function(t,e){var s=e.listData;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commit({type:"addTasksList",listData:s}),e.next=3,Ta.save(t.state.board);case 3:return a=e.sent,Pe.emit("update board",a),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))()},addNewBoard:function(t){return Object(i["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ta.save(t.state.board);case 2:return s=e.sent,t.commit({type:"setBoard",savedBoard:s}),e.abrupt("return",s._id);case 5:case"end":return e.stop()}}),e)})))()},updateBoard:function(t,e){var s=e.board;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commit({type:"updateBoard",board:s}),Pe.emit("update board",s),e.next=4,Ta.save(s);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))()},updateTask:function(t,e){var s=e.task;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commit({type:"updateTask",task:s}),e.next=3,Ta.save(t.state.board);case 3:return a=e.sent,Pe.emit("update board",a),e.abrupt("return",JSON.parse(JSON.stringify(s)));case 6:case"end":return e.stop()}}),e)})))()},deleteTask:function(t,e){var s=e.task;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commit({type:"deleteTask",task:s}),e.next=3,Ta.save(t.state.board);case 3:return a=e.sent,Pe.emit("update board",a),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))()},deleteList:function(t,e){var s=e.listId;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commit({type:"deleteList",listId:s}),e.next=3,Ta.save(t.state.board);case 3:return a=e.sent,Pe.emit("update board",a),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))()},deleteBoard:function(t,e){var s=e.boardId;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commit({type:"deleteBoard",boardId:s}),e.next=3,Ta.remove(s);case 3:return e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})))()},uploadImg:function(t,e){var s=e.ev;return Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xe.uploadImg(s);case 2:return e=t.sent,a=e.url,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})))()},copyTask:function(t,e){var s=e.taskData;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s.newTask.id=xe.makeId(),t.commit({type:"addTask",taskData:s}),e.next=4,Ta.save(t.state.board);case 4:return a=e.sent,Pe.emit("update board",a),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))()},updateTitles:function(t,e){var s=e.label;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commit({type:"updateTitles",label:s}),e.next=3,Ta.save(t.state.board);case 3:return a=e.sent,Pe.emit("update board",a),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))()},saveBoards:function(t){return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.state.boards.forEach((function(t){Pe.emit("update board",t),Ta.save(t)}));case 2:case"end":return e.stop()}}),e)})))()}}},Ua={login:Ma,logout:Ka,signup:za,update:Ha,getById:Ya,getUsers:qa};function Ma(t){return Ja.apply(this,arguments)}function Ja(){return Ja=Object(i["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_a.post("auth/login",e);case 2:return s=t.sent,t.abrupt("return",Ga(s));case 4:case"end":return t.stop()}}),t)}))),Ja.apply(this,arguments)}function za(t){return Fa.apply(this,arguments)}function Fa(){return Fa=Object(i["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_a.post("auth/signup",e);case 2:if(s=t.sent,!s){t.next=7;break}return t.abrupt("return",Ga(s));case 7:return t.abrupt("return",null);case 8:case"end":return t.stop()}}),t)}))),Fa.apply(this,arguments)}function Ka(){return Qa.apply(this,arguments)}function Qa(){return Qa=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_a.post("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return t.stop()}}),t)}))),Qa.apply(this,arguments)}function Ha(t){return Ga(t),_a.put("user/".concat(t._id),t)}function qa(){return _a.get("user")}function Ya(t){return _a.get("user/".concat(t))}function Ga(t){return sessionStorage.setItem("user",JSON.stringify(t)),t}var Za={username:"guest"};sessionStorage.user&&(Za=JSON.parse(sessionStorage.user));var Wa={state:{loggedinUser:Za,users:[]},getters:{loggedinUser:function(t){return t.loggedinUser}},mutations:{setUser:function(t,e){var s=e.user;t.loggedinUser=s||Za},setUsers:function(t,e){var s=e.users;t.users=s}},actions:{login:function(t,e){var s=e.userCred;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ua.login(s);case 2:return a=e.sent,t.commit({type:"setUser",user:a}),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))()},signup:function(t,e){var s=e.userCred;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ua.signup(s);case 2:return a=e.sent,t.commit({type:"setUser",user:a}),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))()},logout:function(t){return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ua.logout();case 2:t.commit({type:"setUser",user:{username:"guest"}});case 3:case"end":return e.stop()}}),e)})))()},getUsers:function(t){return Object(i["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ua.getUsers();case 2:return s=e.sent,t.commit({type:"setUsers",users:s}),e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})))()},updateUser:function(t,e){var s=e.user;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ua.update(s);case 2:return s=e.sent,t.commit({type:"setUser",user:s}),e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})))()}}};a["default"].use(fa["a"]);var Va=new fa["a"].Store({strict:!0,modules:{boardStore:Pa,userStore:Wa}});a["default"].filter("dueDate",(function(t){return Ls()(new Date(t)).format("MMM Do YY")})),a["default"].filter("fromDate",(function(t){return Ls()(new Date(t)).fromNow()}));s("27dc");var Xa=s("5887"),tn=s.n(Xa),en=s("5c96"),sn=s.n(en),an=(s("0fae"),s("ecee")),nn=s("c074"),rn=s("f2d1"),on=s("ad3d");an["c"].add(nn["d"],nn["b"],nn["e"],nn["c"],nn["f"],nn["a"]),an["c"].add(rn["a"]),a["default"].component("font-awesome-icon",on["a"]),a["default"].use(tn.a),a["default"].use(sn.a),a["default"].config.productionTip=!1,new a["default"]({router:va,store:Va,render:function(t){return t(j)}}).$mount("#app")},7631:function(t,e,s){t.exports=s.p+"img/header.8c15bc27.jpg"},aecb:function(t,e,s){t.exports=s.p+"img/logo.ad87d783.png"},c989:function(t,e,s){}});
//# sourceMappingURL=app.8a0fe7e8.js.map